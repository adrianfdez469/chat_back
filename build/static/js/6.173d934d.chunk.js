(this.webpackJsonpchat_front=this.webpackJsonpchat_front||[]).push([[6],{321:function(e,t,a){"use strict";a.d(t,"d",(function(){return d})),a.d(t,"e",(function(){return u})),a.d(t,"a",(function(){return f})),a.d(t,"c",(function(){return m})),a.d(t,"b",(function(){return p}));var n=a(58),c=a.n(n),r=a(10),o=a(110),i=a(325),s=a(6),l=a(13),d=Object(s.selector)({key:"friendSelector",get:function(e){var t=e.get;return t(l.f).length>0?Object(i.a)(t(l.f)).sort((function(e,t){if(1===e.friendShipStatus&&1===t.friendShipStatus){if(e.socketId&&!t.socketId)return-1;if(!e.socketId&&t.socketId)return 1}return e.friendShipStatus<t.friendShipStatus?-1:e.friendShipStatus>t.friendShipStatus?1:e.email<t.email?-1:e.email>t.email?1:void 0})):[]},set:function(){var e=Object(o.a)(c.a.mark((function e(t,a){var n,o,s,d,u,f,m,p,b,E,h;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.set,o=t.get,s=a.action,d=a.payload,e.t0=s,e.next="initialize"===e.t0?5:"add"===e.t0?7:"update"===e.t0?9:"reset_cant_no_leidos"===e.t0?11:"set_message_info"===e.t0?13:"delete"===e.t0?15:"connect"===e.t0?17:"disconnect"===e.t0?19:24;break;case 5:return n(l.f,(function(e){return 0===e.length?d.friends:e})),e.abrupt("break",25);case 7:return n(l.f,(function(e){var t=Object(i.a)(e);return t.push(d.friend),t})),e.abrupt("break",25);case 9:return n(l.f,(function(e){var t=e.findIndex((function(e){return e.contactId===d.friend.contactId}));return e.slice(0,t).concat([d.friend]).concat(e.slice(t+1))})),e.abrupt("break",25);case 11:return n(l.f,(function(e){var t=e.findIndex((function(e){return e.contactId===d.contactId}));return e.slice(0,t).concat([Object(r.a)(Object(r.a)({},e[t]),{},{unread:0})]).concat(e.slice(t+1))})),e.abrupt("break",25);case 13:return n(l.f,(function(e){var t=d.dataObj;return e.map((function(e){if(t[e.contactId]){var a=0;return e.unread&&(a=e.unread),t[e.contactId].cantidad&&(a+=t[e.contactId].cantidad),Object(r.a)(Object(r.a)({},e),{},{unread:a,lastMsg:t[e.contactId].lastMessage,datetime:t[e.contactId].datetime})}return e}))})),e.abrupt("break",25);case 15:return n(l.f,(function(e){return e.filter((function(e){return e.contactId!==d.friendId}))})),e.abrupt("break",25);case 17:return Array.isArray(d.data)?n(l.f,(function(e){return e.map((function(e){var t=d.data.findIndex((function(t){return t.userId===e.contactId}));return t>=0?Object(r.a)(Object(r.a)({},e),{},{socketId:d.data[t].socketId}):Object(r.a)({},e)}))})):(u=d.data,f=u.userId,m=u.socketId,p=null,b=0,n(l.f,(function(e){var t=e.findIndex((function(e){return e.contactId===f}));if(t>=0){p=e[t].nickname,b=e[t].friendShipStatus;var a=Object(r.a)(Object(r.a)({},e[t]),{},{socketId:m});return e.slice(0,t).concat([a]).concat(e.slice(t+1))}return e})),p&&1===b&&d.notification("".concat(p," ").concat(d.msg[o(l.h)]),{variant:"info"})),e.abrupt("break",25);case 19:return E=null,h=0,n(l.f,(function(e){var t=e.findIndex((function(e){return e.socketId===d.socketId}));return t>=0?(E=e[t].nickname,h=e[t].friendShipStatus,Object(i.a)(e).slice(0,t).concat([Object(r.a)(Object(r.a)({},e[t]),{},{socketId:null})]).concat(e.slice(t+1))):e})),E&&1===h&&d.notification("".concat(E," ").concat(d.msg[o(l.h)]),{variant:"warning"}),e.abrupt("break",25);case 24:return e.abrupt("break",25);case 25:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()}),u=Object(s.selector)({key:"conversationSelector",set:function(e,t){var a=e.set,n=t.contactId,c=t.conversation,r=function(e,t,a,n){return e===a?0:t===a?n?3:2:void 0};a(Object(l.g)(n),(function(e){return c.map((function(e){return{_id:e._id,content:e.content,datetime:e.datetime,state:r(e.userOrigin,e.userDestiny,n,e.readed)}}))}))}}),f=Object(s.selector)({key:"addMessageToConversation",set:function(e,t){var a=e.set,n=t.contactId,c={_id:t.messageId,content:t.content,datetime:t.datetime,state:t.state};a(Object(l.g)(n),(function(e){return e.concat([c])}))}}),m=Object(s.selector)({key:"editMsgToStateSavedSelector",set:function(e,t){var a=e.set,n=t.contactId,c=t.messageId,o=t.datetime,i=t.consecutive;a(Object(l.g)(n),(function(e){var t=e.findIndex((function(e){return e._id===i&&1===e.state}));if(t>=0){var a=Object(r.a)(Object(r.a)({},e[t]),{},{state:2,_id:c,datetime:o});return e.slice(0,t).concat([a]).concat(e.slice(t+1))}return e}))}}),p=Object(s.selector)({key:"editAllMsgToSavedSelector",set:function(e,t){var a=e.set,n=t.contactId;a(Object(l.g)(n),(function(e){return e.map((function(e){return 0!==e.state?Object(r.a)(Object(r.a)({},e),{},{state:3}):e}))}))}})},322:function(e,t,a){"use strict";var n=a(34),c=a.n(n),r=a(104),o=a(44),i=a(24);t.a=function(){var e=Object(o.a)(),t=e.openErrorNotification,a=e.openSuccessNotification;return{postRequest:function(e){var n=e.url,o=e.bodyParams,s=void 0===o?{}:o,l=e.doFnAfterSuccess,d=void 0===l?null:l,u=e.doFnAfterError,f=void 0===u?null:u,m=e.messageOnSuccess,p=void 0===m?null:m,b=e.messageOnError,E=void 0===b?null:b;Object(r.a)((function(e){c.a.post("".concat(i.a.server).concat(n),s,{headers:{Authorization:e}}).then((function(t){p&&a(p),d&&d(t,e)})).catch((function(e){E&&t(E),f&&f(e)}))}))}}}},332:function(e){e.exports=JSON.parse('{"acceptInv":{"es":"Aceptar amigo","en":"Accept friend"},"errorAccepting":{"es":"Error al aceptar la solicitud","en":"Error accepting the friend request"}}')},333:function(e){e.exports=JSON.parse('{"block":{"es":"Bloquear contacto","en":"Block contact"},"onBlockError":{"es":"El contacto no se pudo bloquear","en":"Contact could not be block"}}')},359:function(e,t,a){"use strict";var n=a(1),c=a(2),r=a(0),o=(a(5),a(3)),i=a(4),s=a(106),l=r.forwardRef((function(e,t){var a=e.classes,i=e.className,l=Object(c.a)(e,["classes","className"]),d=r.useContext(s.a);return r.createElement("div",Object(n.a)({className:Object(o.a)(a.root,i,"flex-start"===d.alignItems&&a.alignItemsFlexStart),ref:t},l))}));t.a=Object(i.a)({root:{minWidth:56,flexShrink:0},alignItemsFlexStart:{marginTop:8}},{name:"MuiListItemAvatar"})(l)},360:function(e,t,a){"use strict";var n=a(1),c=a(2),r=a(0),o=(a(5),a(3)),i=a(4),s=r.forwardRef((function(e,t){var a=e.classes,i=e.className,s=Object(c.a)(e,["classes","className"]);return r.createElement("div",Object(n.a)({className:Object(o.a)(a.root,i),ref:t},s))}));s.muiName="ListItemSecondaryAction",t.a=Object(i.a)({root:{position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"}},{name:"MuiListItemSecondaryAction"})(s)},363:function(e){e.exports=JSON.parse('{"errorLoadingFriends":{"es":"Error al cargar contactos","en":"Error while loading contacts"},"errorLoadingFriendsData":{"es":"Error al cargar datos de contactos","en":"Error while loading contacts data"},"delete":{"es":"Eliminar","en":"Delete"},"beta":{"es":"SHUT-APP V2.0.0 Beta es una aplicaci\xf3n web de chat realizada sin ning\xfan \xe1nimo de lucro. La informaci\xf3n ingresada en esta no ser\xe1 divulgada bajo ning\xfan concepto.","en":"SHUT-APP V2.0.0 Beta is a non-profit chat web application. The information entered will not be disclosed under any circumstances."},"goMakeFriends":{"es":"Agrega a tus amigos o comparte la aplicacion con ellos si no conocen sobre esta.","en":"Add your friends o share the application with them if they don\'t know about it."}}')},364:function(e){e.exports=JSON.parse('{"REQUESTED":{"es":"Estado: PENDIENTE","en":"State: PENDING"},"ASKED":{"es":"Estado: SOLICITADO","en":"State: REQUESTED"},"DECLINED":{"es":"Estado: RECHAZADO","en":"State: DECLINED"},"BLOCKED":{"es":"Estado: BLOQUEADO","en":"State: BLOCKED"},"DELETED":{"es":"Estado: ELIMINADO","en":"State: DELETED"},"descREQUESTED":{"es":"Estado: Esperando a que acepten su solicitud de amistad","en":"State: Waiting for the acceptance of the friend request"},"descASKED":{"es":"Estado: Este usuario solicita ser su amigo","en":"State: This user wants to be your friend"},"descDECLINED":{"es":"Estado: Su solicitud de amistad ha sido rechazada","en":"State: Your friend request has been declined"},"descBLOCKED":{"es":"Estado: Usted ha sido bloqueado por este contacto","en":"State: You have been bloked by this contact"},"descDELETED":{"es":"Estado: Usted ha sido eliminado por este contacto","en":"State: You have been deleted by this contact"}}')},365:function(e,t,a){"use strict";var n=a(2),c=a(12),r=a(1),o=a(0),i=(a(5),a(3)),s=a(4),l=a(358),d=o.forwardRef((function(e,t){var a,c=e.classes,s=e.className,d=e.component,u=void 0===d?"li":d,f=e.disableGutters,m=void 0!==f&&f,p=e.ListItemClasses,b=e.role,E=void 0===b?"menuitem":b,h=e.selected,g=e.tabIndex,v=Object(n.a)(e,["classes","className","component","disableGutters","ListItemClasses","role","selected","tabIndex"]);return e.disabled||(a=void 0!==g?g:-1),o.createElement(l.a,Object(r.a)({button:!0,role:E,tabIndex:a,component:u,selected:h,disableGutters:m,classes:Object(r.a)({dense:c.dense},p),className:Object(i.a)(c.root,s,h&&c.selected,!m&&c.gutters),ref:t},v))}));t.a=Object(s.a)((function(e){return{root:Object(r.a)({},e.typography.body1,Object(c.a)({minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",width:"auto",overflow:"hidden",whiteSpace:"nowrap"},e.breakpoints.up("sm"),{minHeight:"auto"})),gutters:{},selected:{},dense:Object(r.a)({},e.typography.body2,{minHeight:"auto"})}}),{name:"MuiMenuItem"})(d)},366:function(e,t,a){"use strict";var n=a(1),c=a(2),r=a(0),o=(a(5),a(3)),i=a(4),s=a(106),l=r.forwardRef((function(e,t){var a=e.classes,i=e.className,l=Object(c.a)(e,["classes","className"]),d=r.useContext(s.a);return r.createElement("div",Object(n.a)({className:Object(o.a)(a.root,i,"flex-start"===d.alignItems&&a.alignItemsFlexStart),ref:t},l))}));t.a=Object(i.a)((function(e){return{root:{minWidth:56,color:e.palette.action.active,flexShrink:0,display:"inline-flex"},alignItemsFlexStart:{marginTop:8}}}),{name:"MuiListItemIcon"})(l)},367:function(e,t,a){"use strict";var n=a(84);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=n(a(0)),r=(0,n(a(102)).default)(c.default.createElement("g",{fillRule:"evenodd"},c.default.createElement("path",{d:"M9 17l3-2.94c-.39-.04-.68-.06-1-.06-2.67 0-8 1.34-8 4v2h9l-3-3zm2-5c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4M15.47 20.5L12 17l1.4-1.41 2.07 2.08 5.13-5.17 1.4 1.41z"})),"HowToReg");t.default=r},368:function(e){e.exports=JSON.parse('{"decline":{"es":"Cancelar peticion","en":"Decline request"},"errorDeclining":{"es":"Error al cancelar solicitud de amistad","en":"Error declining friend request"}}')},369:function(e,t,a){"use strict";var n=a(84);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=n(a(0)),r=(0,n(a(102)).default)(c.default.createElement("path",{d:"M22 4h-2c-.55 0-1 .45-1 1v9c0 .55.45 1 1 1h2V4zM2.17 11.12c-.11.25-.17.52-.17.8V13c0 1.1.9 2 2 2h5.5l-.92 4.65c-.05.22-.02.46.08.66.23.45.52.86.88 1.22L10 22l6.41-6.41c.38-.38.59-.89.59-1.42V6.34C17 5.05 15.95 4 14.66 4h-8.1c-.71 0-1.36.37-1.72.97l-2.67 6.15z"}),"ThumbDownAlt");t.default=r},370:function(e,t,a){"use strict";var n=a(84);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=n(a(0)),r=(0,n(a(102)).default)(c.default.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");t.default=r},371:function(e){e.exports=JSON.parse('{"delete":{"es":"Eliminar contacto","en":"Delete contact"},"onDeleteError":{"es":"El contacto no se pudo eliminar","en":"Contact could not be removed"}}')},372:function(e,t,a){"use strict";var n=a(84);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=n(a(0)),r=(0,n(a(102)).default)(c.default.createElement("path",{d:"M12.99 9.18c0-.06.01-.12.01-.18 0-2.21-1.79-4-4-4-.06 0-.12.01-.18.01l4.17 4.17zm-6.1-3.56L4.27 3 3 4.27l2.62 2.62C5.23 7.5 5 8.22 5 9c0 2.21 1.79 4 4 4 .78 0 1.5-.23 2.11-.62L19.73 21 21 19.73l-8.62-8.62-5.49-5.49zM9 15c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4zm7.76-9.64l-1.68 1.69c.84 1.18.84 2.71 0 3.89l1.68 1.69c2.02-2.02 2.02-5.07 0-7.27zM20.07 2l-1.63 1.63c2.77 3.02 2.77 7.56 0 10.74L20.07 16c3.9-3.89 3.91-9.95 0-14z"}),"VoiceOverOff");t.default=r},374:function(e,t,a){"use strict";var n=a(84);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=n(a(0)),r=(0,n(a(102)).default)(c.default.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"}),"Info");t.default=r},433:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(19),o=a(363),i=a(6),s=a(13),l=a(321),d=a(322),u=a(303),f=a(83),m=a(357),p=a(431),b=a(438),E=a(373),h=a(154),g=a(445),v=a(358),O=a(359),S=a(320),I=a(423),j=a(360),k=a(257),y=a(81),x=a(79),C=a(82),A=a(80),D=a(293),R=a(4),M=a(338),N=a.n(M),w=a(374),z=a.n(w),T=a(24),L=a(364),_=a(10),F=a(34),V=a.n(F),q=a(44),U=a(104),P=a(365),B=a(366),H=a(367),J=a.n(H),K=a(332),W=function(e){var t=e.idioma,a=e.onClick;return c.a.createElement(P.a,{onClick:a},c.a.createElement(B.a,null,c.a.createElement(J.a,{fontSize:"small",color:"primary"})),c.a.createElement(I.a,{primary:K.acceptInv[t]}))},G=a(103),Q=function(e){var t=e.preAction,a=e.contact,n=Object(i.useRecoilValue)(s.h),r=Object(i.useRecoilValue)(s.i),o=Object(q.a)().openErrorNotification,d=Object(i.useSetRecoilState)(l.d);return c.a.createElement(W,{idioma:n,onClick:function(){t();Object(U.a)((function(e){V.a.post("".concat(T.a.server,"/users/acceptFriendRequest"),{acceptedUserId:a.contactId},{headers:{Authorization:e}}).then((function(t){200===t.status&&(d({action:"update",payload:{friend:Object(_.a)(Object(_.a)({},t.data.friend),{},{socketId:a.socketId})}}),G.a.getSocket().emit("accept friendship",{accepterId:r.userId,socketIdRequester:a.socketId,token:e}))})).catch((function(e){o(K.errorAccepting[n])}))}))}})},Y=function(e){return c.a.createElement(Q,e)},Z=a(368),$=a(369),X=a.n($),ee=function(e){var t=e.idioma,a=e.text,n=e.onClick;return c.a.createElement(P.a,{onClick:n},c.a.createElement(B.a,null,c.a.createElement(X.a,{fontSize:"small",color:"error"})),c.a.createElement(I.a,{primary:a.decline[t]}))},te=function(e){var t=e.preAction,a=e.contact,n=Object(i.useRecoilValue)(s.h),r=Object(q.a)().openErrorNotification,o=Object(i.useSetRecoilState)(l.d),d=Object(i.useRecoilValue)(s.i);return c.a.createElement(ee,{idioma:n,onClick:function(){t();Object(U.a)((function(e){V.a.post("".concat(T.a.server,"/users/declineFriendRequest"),{declinedUserId:a.contactId},{headers:{Authorization:e}}).then((function(e){200===e.status&&o({action:"delete",payload:{friendId:a.contactId}})})).then((function(){G.a.getSocket().emit("decline friendship",{declinerId:d.userId,declinedId:a.contactId,socketIdDeclined:a.socketId,token:e})})).catch((function(e){r(Z.errorDeclining[n])}))}))},text:Z})},ae=function(e){return c.a.createElement(te,e)},ne=a(370),ce=a.n(ne),re=function(e){var t=e.idioma,a=e.onClick,n=e.text;return c.a.createElement(P.a,{onClick:a},c.a.createElement(B.a,null,c.a.createElement(ce.a,{fontSize:"small",color:"error"})),c.a.createElement(I.a,{primary:n.delete[t]}))},oe=a(371),ie=function(e){var t=e.preAction,a=e.contact,n=Object(i.useRecoilValue)(s.h),r=Object(i.useRecoilValue)(s.i),o=Object(d.a)().postRequest,u=Object(i.useSetRecoilState)(l.d);return c.a.createElement(re,{idioma:n,text:oe,onClick:function(){t(),o({url:"/users/deleteContact",bodyParams:{deletedUserId:a.contactId},messageOnError:oe.onDeleteError[n],doFnAfterSuccess:function(e,t){200===e.status&&(u({action:"delete",payload:{friendId:a.contactId}}),1===a.friendShipStatus&&G.a.getSocket().emit("delete contact",{deleterId:r.userId,socketIdDeleted:a.socketId,token:t}))}})}})},se=function(e){return c.a.createElement(ie,e)},le=a(372),de=a.n(le),ue=a(333),fe=function(e){var t=e.idioma,a=e.onClick;return c.a.createElement(P.a,{onClick:a},c.a.createElement(B.a,null,c.a.createElement(de.a,{fontSize:"small",color:"error"})),c.a.createElement(I.a,{primary:ue.block[t]}))},me=function(e){var t=e.preAction,a=e.contact,n=Object(i.useRecoilValue)(s.h),r=Object(i.useRecoilValue)(s.i),o=Object(d.a)().postRequest,u=Object(i.useSetRecoilState)(l.d);return c.a.createElement(fe,{idioma:n,onClick:function(){t(),o({url:"/users/blockUser",bodyParams:{blokedUserId:a.contactId},messageOnError:ue.onBlockError[n],doFnAfterSuccess:function(e,t){200===e.status&&(u({action:"delete",payload:{friendId:a.contactId}}),G.a.getSocket().emit("block contact",{blokerId:r.userId,socketIdBloked:a.socketId,token:t}))}})}})},pe=function(e){return c.a.createElement(me,e)},be=function(e){var t=e.handleClose,a=e.contact,n=function(){t()};switch(a.friendShipStatus){case 1:return c.a.createElement(c.a.Fragment,null,c.a.createElement(se,{preAction:n,contact:a}),c.a.createElement(pe,{preAction:n,contact:a}));case 2:return c.a.createElement(c.a.Fragment,null,c.a.createElement(ae,{preAction:n,contact:a}),c.a.createElement(pe,{preAction:n,contact:a}));case 3:return c.a.createElement(c.a.Fragment,null,c.a.createElement(Y,{preAction:n,contact:a}),c.a.createElement(ae,{preAction:n,contact:a}),c.a.createElement(pe,{preAction:n,contact:a}));case 4:return c.a.createElement(c.a.Fragment,null,c.a.createElement(se,{preAction:n,contact:a}),c.a.createElement(pe,{preAction:n,contact:a}));case 5:case 6:return c.a.createElement(se,{preAction:n,contact:a});default:return null}},Ee=Object(D.a)((function(e){return{infoIcon:{marginRight:"-12px",overflow:"visible",textAlign:"center",flex:"0 0 auto",color:"rgba(0, 0, 0, 0.54)",padding:"12px",fontSize:"1.5rem",transition:"background-color 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms",borderRadius:"50%",border:0,cursor:"pointer",margin:0,display:"inline-flex",outline:0,position:"relative",alignItems:"center",userSelect:"none",verticalAlign:"middle",justifyContent:"center",textDecoration:"none"},listItemText:{paddingRight:e.spacing(10)},primaryText:{color:e.palette.text.primary},secondaryText:{color:e.palette.text.secondary},avatarMan:{color:e.palette.getContrastText(y.a[400]),backgroundColor:y.a[400]},avatarWoman:{color:e.palette.getContrastText(x.a[300]),backgroundColor:x.a[300]}}})),he=Object(R.a)((function(e){return{badge:{backgroundColor:"#44b700",color:"#44b700",boxShadow:"0 0 0 2px white","&::after":{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",animation:"$ripple 1.2s infinite ease-in-out",border:"1px solid currentColor",content:'""'}},"@keyframes ripple":{"0%":{transform:"scale(.8)",opacity:1},"100%":{transform:"scale(2.4)",opacity:0}}}}))(E.a),ge=Object(R.a)((function(e){return{badge:{backgroundColor:e.palette.grey[500],color:e.palette.grey[500],boxShadow:"0 0 0 2px white","&::after":{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",border:"1px solid currentColor",content:'""'}},"@keyframes ripple":{"0%":{transform:"scale(.8)",opacity:1},"100%":{transform:"scale(2.4)",opacity:0}}}}))(E.a),ve=function(e){return e.contact.socketId&&1===e.contact.friendShipStatus?c.a.createElement(he,{overlap:"circle",anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"dot"},e.children):c.a.createElement(ge,{overlap:"circle",anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"dot"},e.children)},Oe=Object(R.a)({paper:{border:"1px solid #d3d4d5"}})((function(e){return c.a.createElement(h.a,Object.assign({elevation:0,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},e))})),Se=Object(D.a)((function(e){return{arrow:{color:C.a[500]},tooltip:{backgroundColor:C.a[500]}}})),Ie=Object(D.a)((function(e){return{arrow:{color:A.a[500]},tooltip:{backgroundColor:A.a[500]}}})),je=function(e){var t=Ie(),a=Se();return c.a.createElement(g.a,Object.assign({arrow:!0,classes:"red"===e.color?t:a},e))},ke=c.a.memo((function(e){var t=e.idioma,a=e.contact,n=e.handleMenu,r=e.handleClose,o=e.anchorEl,i=e.openChat,s=a.lastMsg?a.lastMsg:"",l="es"===t?{locale:b.a}:{},d=a.datetime?Object(p.a)(new Date(a.datetime),new Date,l):"";console.log(a);var u=Ee(),f=a.avatarUrl?"".concat(T.a.server).concat(a.avatarUrl):null,h="M"===a.gender?"avatarMan":"avatarWoman";return c.a.createElement(c.a.Fragment,null,c.a.createElement(v.a,{button:!0,onClick:i},c.a.createElement(O.a,null,c.a.createElement(ve,{contact:a},a.unread&&a.unread>0?c.a.createElement(E.a,{color:"secondary",badgeContent:a.unread},c.a.createElement(S.a,{src:f,className:a.gender&&u[h]})):c.a.createElement(S.a,{src:f,className:a.gender&&u[h]}))),c.a.createElement(I.a,{primary:a.nickname,secondary:a.friendShipStatus>1?L[a.friendShipStatusCode][t]:"".concat(s.slice(0,55),"... ").concat(d),secondaryTypographyProps:a.friendShipStatus>3?{style:{color:"".concat(A.a[500])}}:a.friendShipStatus<4&&a.friendShipStatus>1?{style:{color:"".concat(C.a[500])}}:{},className:u.listItemText,classes:{primary:u.primaryText,secondary:u.secondaryText}}),a.friendShipStatus>1?c.a.createElement(je,{title:L["desc".concat(a.friendShipStatusCode)][t],color:a.friendShipStatus>3?"red":"geen"},c.a.createElement("div",{className:u.infoIcon},c.a.createElement(z.a,{fontSize:"small",style:{color:a.friendShipStatus>3?A.a[500]:C.a[500]}}))):null,c.a.createElement(j.a,null,c.a.createElement(k.a,{edge:"end","aria-label":"delete",onClick:n},c.a.createElement(N.a,{fontSize:"default"})),c.a.createElement(Oe,{id:"customized-menu",anchorEl:o,keepMounted:!0,open:Boolean(o),onClose:r},c.a.createElement(be,{handleClose:r,contact:a})))),c.a.createElement(m.a,{variant:"inset",component:"li"}))})),ye=function(e){var t=e.contact,a=Object(n.useState)(null),o=Object(r.a)(a,2),d=o[0],u=o[1],f=Object(i.useRecoilValue)(s.h),m=Object(i.useRecoilValue)(s.i),p=Object(i.useSetRecoilState)(s.a),b=Object(i.useSetRecoilState)(l.d),E=Object(n.useCallback)((function(){u(null)}),[]);return c.a.createElement(ke,{handleMenu:function(e){u(e.currentTarget)},handleClose:E,contact:t,anchorEl:d,idioma:f,openChat:function(){p(t.contactId),b({action:"reset_cant_no_leidos",payload:{contactId:t.contactId}}),G.a.getSocket().emit("read messages",{userId:m.userId,contactId:t.contactId,notifyTo:t.socketId,token:localStorage.getItem("token")})}})},xe=function(e){return c.a.createElement(ye,e)},Ce=function(e){var t=e.idioma,a=e.text,n=e.contacts;return c.a.createElement(u.a,null,n.length>0?n.map((function(e){return c.a.createElement(xe,{contact:e,key:e.contactId})})):c.a.createElement("div",{style:{margin:"2em"}},c.a.createElement(m.a,null),c.a.createElement(f.a,{variant:"h5",align:"justify"},a.goMakeFriends[t]),c.a.createElement(m.a,null),c.a.createElement(f.a,{variant:"subtitle1",align:"justify",style:{marginTop:"1em"}},a.beta[t])))},Ae=function(e){var t=Object(i.useSetRecoilState)(s.j),a=Object(d.a)().postRequest,u=Object(i.useRecoilState)(l.d),f=Object(r.a)(u,2),m=f[0],p=f[1],b=Object(i.useRecoilValue)(s.h),E=function(){0===m.length?a({url:"/users/searchFirends",messageOnError:o.errorLoadingFriends[b],doFnAfterSuccess:function(e){200===e.status&&(p({action:"initialize",payload:{friends:e.data.friends}}),t(!0),e.data.friends.length>0&&a({url:"/users/getContactData",messageOnError:o.errorLoadingFriendsData[b],doFnAfterSuccess:function(e){200===e.status&&p({action:"set_message_info",payload:{dataObj:e.data.contactsData}})}}))}}):console.log("NO LOS MANDA A BUSCAR")};return Object(n.useEffect)((function(){E()}),[]),c.a.createElement(Ce,{idioma:b,contacts:m,text:o})};t.default=function(e){return c.a.createElement(Ae,null)}}}]);
//# sourceMappingURL=6.173d934d.chunk.js.map