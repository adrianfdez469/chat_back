{"version":3,"sources":["view/activateuser/activateuser.view.js","view/activateuser/activateuser.controller.js","view/activateuser/index.js"],"names":["useStyles","makeStyles","theme","root","width","height","paddingTop","spacing","overflowY","button","marginTop","marginRight","actionsContainer","marginBottom","Stepper","backgroundColor","combo","minWidth","avatarPink","color","palette","getContrastText","pink","marginLeft","avatarBlue","blueGrey","avatarButton","padding","borderRadius","avatarEdit","margin","display","flexDirection","alignItems","justifyContent","ActivateUserView","idioma","activeStep","handleFinish","handleLanguageChange","sexSelectHandler","sexState","nicknameState","setNicknameHandler","preview","setPreview","goNextConf","goBackConf","sendActivation","activationError","avatarRef","isUserInvited","passState","onChangePass","classes","className","Container","Typography","variant","text","hello","hello1","descriptionText","Divider","orientation","Step","StepLabel","labelIdioma","StepContent","FormControl","Select","id","value","onChange","MenuItem","english","spanish","Button","onClick","next","labelSexo","male","female","back","disabled","labelNickname","TextField","placeholder","labelAvatar","onCrop","prev","onClose","closeIconColor","label","choosefile","ref","Avatar","alt","src","password","required","fullWidth","name","pass","type","autoComplete","helperText","valid","msg","error","length","label1","label3","content3","goLogin","withRouter","props","useRecoilState","idiomaState","setIdioma","useState","setActiveStep","setActivationError","redirectState","setRedirect","setSexState","match","params","nickname","setNickname","previewAvatar","setPreviewAvatar","setPassState","useRef","state","to","target","axios","post","DEFAULT_CONFIG","server","token","language","gender","avatar","invited","then","resp","status","catch","err","ActivateUser"],"mappings":"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","file":"static/js/13.6ab5f2c7.chunk.js","sourcesContent":["import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Stepper from '@material-ui/core/Stepper';\r\nimport Step from '@material-ui/core/Step';\r\nimport StepLabel from '@material-ui/core/StepLabel';\r\nimport StepContent from '@material-ui/core/StepContent';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport { pink, blueGrey } from '@material-ui/core/colors';\r\n\r\n\r\n\r\nimport text from './idioma.json';\r\nimport { Container, Divider } from '@material-ui/core';\r\n\r\nimport AvatarEdit from 'react-avatar-edit';\r\n\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        width: '100%',\r\n        height: '100%',\r\n        paddingTop: theme.spacing(2),\r\n        overflowY: 'auto'\r\n    },\r\n    button: {\r\n        marginTop: theme.spacing(1),\r\n        marginRight: theme.spacing(1),\r\n    },\r\n    actionsContainer: {\r\n        marginBottom: theme.spacing(2),\r\n    },\r\n    Stepper: {\r\n        backgroundColor: 'transparent',\r\n        \r\n    },\r\n    combo: {\r\n        minWidth: 120\r\n    },\r\n    avatarPink: {\r\n        color: theme.palette.getContrastText(pink[300]),\r\n        backgroundColor: pink[300],\r\n        marginLeft: theme.spacing(7),\r\n        width: theme.spacing(10),\r\n        height: theme.spacing(10),\r\n      },\r\n    avatarBlue: {\r\n        color: theme.palette.getContrastText(blueGrey[500]),\r\n        backgroundColor: blueGrey[500],\r\n        marginLeft: theme.spacing(7),\r\n        width: theme.spacing(10),\r\n        height: theme.spacing(10),\r\n    },\r\n    avatarButton: {\r\n        padding: 0, \r\n        borderRadius: '50%', \r\n        minWidth: 0\r\n    },\r\n    avatarEdit: {\r\n        margin: theme.spacing(2),\r\n        marginLeft: theme.spacing(3),\r\n        display: 'flex',\r\n        flexDirection: 'row',\r\n        alignItems: 'center',\r\n        justifyContent: ''\r\n    },\r\n    \r\n    \r\n}));\r\n\r\nconst ActivateUserView = ({idioma, activeStep, handleFinish,\r\n    handleLanguageChange, \r\n    sexSelectHandler,sexState,\r\n    nicknameState, setNicknameHandler,\r\n    preview, setPreview,\r\n    goNextConf,goBackConf,\r\n    sendActivation, activationError,\r\n    avatarRef,\r\n    isUserInvited, passState, onChangePass\r\n}) => {\r\n\r\n    const classes = useStyles();    \r\n\r\n    let orientation = 'vertical';\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <Container>\r\n                <Typography variant=\"h6\">{`${text.hello[idioma]}${nicknameState}${text.hello1[idioma]}`}</Typography>\r\n                <Typography variant=\"body1\">{text.descriptionText[idioma]}</Typography>\r\n            </Container>\r\n            <Divider />\r\n            <Stepper activeStep={activeStep} orientation={orientation} className={classes.Stepper}>\r\n                <Step >\r\n                    <StepLabel >{text.labelIdioma[idioma]}</StepLabel>\r\n                    <StepContent>\r\n                        <FormControl variant=\"standard\" className={classes.combo}>\r\n                            <Select\r\n                                id=\"input-language\"\r\n                                value={idioma}\r\n                                onChange={handleLanguageChange}\r\n                            >\r\n                                <MenuItem value={'en'}>{text.english[idioma]}</MenuItem>\r\n                                <MenuItem value={'es'}>{text.spanish[idioma]}</MenuItem>\r\n                            </Select>\r\n                            <Button\r\n                                variant=\"contained\"\r\n                                color=\"primary\"\r\n                                onClick={goNextConf}\r\n                                className={classes.button}\r\n                            >\r\n                                {text.next[idioma]}\r\n                            </Button>\r\n                        </FormControl>                        \r\n                    </StepContent>\r\n                </Step>\r\n\r\n                <Step >\r\n                    <StepLabel >{text.labelSexo[idioma]}</StepLabel>\r\n                    <StepContent>\r\n                        <FormControl variant=\"standard\" className={classes.combo}>\r\n                            <Select\r\n                                id=\"input-language\"\r\n                                value={sexState}\r\n                                onChange={sexSelectHandler}\r\n                            >\r\n                                <MenuItem value={'M'}>{text.male[idioma]}</MenuItem>\r\n                                <MenuItem value={'F'}>{text.female[idioma]}</MenuItem>\r\n                            </Select>\r\n                        </FormControl>\r\n                        <div className={classes.actionsContainer}>\r\n                            <div>\r\n                            <Button\r\n                                variant=\"contained\"\r\n                                color=\"secondary\"\r\n                                onClick={goBackConf}\r\n                                className={classes.button}\r\n                            >\r\n                                {text.back[idioma]}\r\n                            </Button>\r\n                            <Button\r\n                                disabled={sexState == null}\r\n                                variant=\"contained\"\r\n                                color=\"primary\"\r\n                                onClick={goNextConf}\r\n                                className={classes.button}\r\n                            >\r\n                                {text.next[idioma]}\r\n                            </Button>\r\n                            </div>\r\n                        </div>\r\n                    </StepContent>\r\n                </Step>\r\n\r\n                <Step >\r\n                    <StepLabel >{text.labelNickname[idioma]}</StepLabel>\r\n                    <StepContent>\r\n                        <FormControl variant=\"standard\" className={classes.combo}>\r\n                            <TextField \r\n                                id=\"standard-basic\"\r\n                                placeholder={text.labelNickname[idioma]}\r\n                                value={nicknameState}\r\n                                onChange={setNicknameHandler}   \r\n                            />\r\n                        </FormControl>\r\n                        <div className={classes.actionsContainer}>\r\n                            <div>\r\n                            <Button\r\n                                variant=\"contained\"\r\n                                color=\"secondary\"\r\n                                onClick={goBackConf}\r\n                                className={classes.button}\r\n                            >\r\n                                {text.back[idioma]}\r\n                            </Button>\r\n                            <Button\r\n                                disabled={nicknameState === ''}\r\n                                variant=\"contained\"\r\n                                color=\"primary\"\r\n                                onClick={goNextConf}\r\n                                className={classes.button}\r\n                            >\r\n                                {text.next[idioma]}\r\n                            </Button>\r\n                            </div>\r\n                        </div>\r\n                    </StepContent>\r\n                </Step>\r\n\r\n                <Step >\r\n                    <StepLabel >{text.labelAvatar[idioma]}</StepLabel>\r\n                    <StepContent>                    \r\n                        <div className={classes.avatarEdit}>\r\n                            <AvatarEdit\r\n                                width={120}\r\n                                height={100}\r\n                                onCrop={prev => {                                    \r\n                                    setPreview(prev)}\r\n                                }\r\n                                onClose={() => {setPreview(null)}}\r\n                                closeIconColor={pink[500]}\r\n                                label={text.choosefile[idioma]}        \r\n                                ref={avatarRef}                    \r\n                            />\r\n                                <Avatar                                    \r\n                                    alt={`${nicknameState}`}\r\n                                    src={preview}\r\n                                    variant=\"circle\"\r\n                                    className={sexState===\"F\" ? classes.avatarPink : classes.avatarBlue}\r\n                                />\r\n                        </div>\r\n                        <div className={classes.actionsContainer}>\r\n                            <div>\r\n                            <Button\r\n                                variant=\"contained\"\r\n                                color=\"secondary\"\r\n                                onClick={goBackConf}\r\n                                className={classes.button}\r\n                            >\r\n                                {text.back[idioma]}\r\n                            </Button>\r\n                            <Button\r\n                                disabled={nicknameState === ''}\r\n                                variant=\"contained\"\r\n                                color=\"primary\"\r\n                                onClick={isUserInvited ? goNextConf : sendActivation}\r\n                                className={classes.button}\r\n                            >\r\n                                {text.next[idioma]}\r\n                            </Button>\r\n                            </div>\r\n                        </div>\r\n                    </StepContent>\r\n                </Step>\r\n                \r\n                {isUserInvited \r\n                ? <Step >\r\n                    <StepLabel >{text.password[idioma]}</StepLabel>\r\n                    <StepContent>\r\n                        \r\n                        <FormControl variant=\"standard\" className={classes.combo}>\r\n                            <TextField\r\n                                variant=\"standard\"\r\n                                required\r\n                                fullWidth\r\n                                name=\"password\"\r\n                                label={text.pass[idioma]}\r\n                                type=\"password\"\r\n                                id=\"password\"\r\n                                autoComplete=\"current-password\"\r\n                                value={passState.value}\r\n                                helperText={!passState.valid ? text[passState.msg][idioma] : ''}\r\n                                error={!passState.valid}\r\n                                onChange={onChangePass}\r\n                            />\r\n                            \r\n                            <div className={classes.actionsContainer}>\r\n                                <div>\r\n                                    <Button\r\n                                        variant=\"contained\"\r\n                                        color=\"secondary\"\r\n                                        onClick={goBackConf}\r\n                                        className={classes.button}\r\n                                    >\r\n                                        {text.back[idioma]}\r\n                                    </Button>\r\n                                    <Button\r\n                                        disabled={!passState.valid || !passState.value.length > 0}\r\n                                        variant=\"contained\"\r\n                                        color=\"primary\"\r\n                                        onClick={sendActivation}\r\n                                        className={classes.button}\r\n                                    >\r\n                                        {text.next[idioma]}\r\n                                    </Button>\r\n                                </div>\r\n                            </div>\r\n                        </FormControl>\r\n\r\n                    </StepContent>\r\n                </Step>\r\n                : null\r\n                 }\r\n\r\n                <Step >\r\n                    <StepLabel error={activationError}>{text.label1[idioma]}</StepLabel>\r\n                </Step>\r\n\r\n                <Step >\r\n                    <StepLabel >{text.label3[idioma]}</StepLabel>\r\n                    <StepContent>\r\n                        <Typography>{text.content3[idioma]}</Typography>\r\n                        <div className={classes.actionsContainer}>\r\n                            <div>\r\n                            <Button\r\n                                variant=\"contained\"\r\n                                color=\"primary\"\r\n                                onClick={handleFinish}\r\n                                className={classes.button}\r\n                            >\r\n                                {text.goLogin[idioma]}\r\n                            </Button>\r\n                            </div>\r\n                        </div>\r\n                    </StepContent>\r\n                </Step>\r\n\r\n            </Stepper>\r\n            <Divider />\r\n        </div>\r\n    );\r\n\r\n}\r\nexport default ActivateUserView;","import React, {useState, useRef} from 'react';\r\nimport {withRouter, Redirect} from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport {DEFAULT_CONFIG} from '../../conf/configuration';\r\nimport {useRecoilState} from 'recoil';\r\nimport {idiomaState} from '../../components/recoil/atoms';\r\n\r\nimport ActivateUserView from './activateuser.view';\r\n\r\nconst ActivateUserController = props => {\r\n\r\n    const [idioma, setIdioma] = useRecoilState(idiomaState);\r\n\r\n    const [activeStep, setActiveStep] = useState(0);\r\n    const [activationError, setActivationError] = useState(false);\r\n    const [redirectState, setRedirect] = useState(null);\r\n    const [sexState, setSexState] = useState(null);\r\n    const [nicknameState, setNickname] = useState(props.match.params.nickname);\r\n    const [previewAvatar, setPreviewAvatar] = useState(null);\r\n    const [passState, setPassState] = useState({value: \"\", valid: true});\r\n    const avatarRef = useRef(null);\r\n\r\n\r\n    const handleLanguageChange = ({target: {value}}) => {\r\n        setIdioma(value);\r\n    }\r\n\r\n    const handleFinish = () => {\r\n        setRedirect(true);\r\n    };\r\n    const goNextConf = () => {\r\n        setActiveStep(state => state+1);\r\n    }\r\n    const goBackConf = () => {\r\n        setActiveStep(state => state-1);\r\n    }\r\n    const sexSelectHandler = ({target: {value}}) => {\r\n        setSexState(value);\r\n    }\r\n    const setNicknameHandler = ({target: {value}}) => {\r\n        setNickname(value);\r\n    }\r\n    const onChangePass = ({target:{value}}) => {\r\n\r\n        if(value.length < 8){\r\n            setPassState({...passState,value: value, valid: false, msg: 'passShort'});\r\n        }else{\r\n            setPassState({...passState,value: value, valid: true, msg: null});\r\n        }\r\n    }\r\n\r\n\r\n    const sendActivation = () => {\r\n        \r\n        goNextConf();\r\n\r\n        axios.post(`${DEFAULT_CONFIG.server}/users/activate`, \r\n            {\r\n                token: props.match.params.token,\r\n                language: idioma,\r\n                gender: sexState,\r\n                nickname: nicknameState,\r\n                avatar: previewAvatar,\r\n                isUserInvited: props.match.params.invited === 'invited',\r\n                password: passState.value\r\n            })\r\n        .then(resp => {\r\n            if(resp.status === 200){\r\n                goNextConf();\r\n            }\r\n            \r\n        })\r\n        .catch(err => {\r\n            setActivationError(true);\r\n        });\r\n    }\r\n\r\n    if(redirectState){\r\n        return <Redirect to='/' />\r\n    }\r\n\r\n    return <ActivateUserView \r\n        idioma={idioma}\r\n        activeStep={activeStep}\r\n        handleFinish={handleFinish}\r\n        handleLanguageChange={handleLanguageChange}\r\n        sexSelectHandler={sexSelectHandler}\r\n        sexState={sexState}\r\n        nicknameState={nicknameState}\r\n        setNicknameHandler={setNicknameHandler}\r\n        preview={previewAvatar}\r\n        setPreview={setPreviewAvatar}\r\n        \r\n        goNextConf={goNextConf}\r\n        goBackConf={goBackConf}\r\n\r\n        sendActivation={sendActivation}\r\n        activationError={activationError}\r\n        avatarRef={avatarRef}\r\n\r\n        isUserInvited={props.match.params.invited === 'invited'}\r\n        passState={passState}\r\n        onChangePass={onChangePass}\r\n\r\n    />;\r\n\r\n}\r\nexport default withRouter(ActivateUserController);","import React from 'react';\r\nimport ActivateUserController from './activateuser.controller';\r\n\r\nconst ActivateUser = props => {\r\n\r\n    return <ActivateUserController />;\r\n\r\n}\r\nexport default ActivateUser;"],"sourceRoot":""}