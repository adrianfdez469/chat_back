(this.webpackJsonpchat_front=this.webpackJsonpchat_front||[]).push([[10],{324:function(e,a,t){"use strict";var n=t(16),r=t.n(n),o=t(34),l=t(24),i=t(14);a.a=function(){var e=Object(l.a)(),a=e.openErrorNotification,t=e.openSuccessNotification;return{postRequest:function(e){var n=e.url,l=e.bodyParams,c=void 0===l?{}:l,s=e.doFnAfterSuccess,u=void 0===s?null:s,m=e.doFnAfterError,d=void 0===m?null:m,p=e.messageOnSuccess,g=void 0===p?null:p,v=e.messageOnError,b=void 0===v?null:v;Object(o.a)((function(e){r.a.post("".concat(i.a.server).concat(n),c,{headers:{Authorization:e}}).then((function(a){g&&t(g),u&&u(a,e)})).catch((function(e){b&&a(b),d&&d(e)}))}))}}}},346:function(e){e.exports=JSON.parse('{"title":{"es":"Cambiar contrase\xf1a","en":"Change password"},"password":{"es":"Contrase\xf1a","en":"Password"},"oldpassword":{"es":"Contrase\xf1a actual","en":"Current password"},"invalidPass":{"es":"Debe tener al menos 8 caracteres","en":"Must have at least 8 characters"},"invalidOldPass":{"es":"No puede estar vac\xeda","en":"Cant\'t be empty"},"repeatPassword":{"es":"Repita la contrase\xf1a","en":"Repeat password"},"passNotEqual":{"es":"Las contrase\xf1as no son iguales","en":"The passwords are not equal"},"changePass":{"es":"Cambiar contrase\xf1a","en":"Change password"},"passChangeOk":{"es":"La contrase\xf1a ha sido cambiada","en":"Your password has been changed"},"passChangeError":{"es":"La contrase\xf1a no se pudo cambiar","en":"The password can\'t be changed"},"passChange403Error":{"es":"Contrase\xf1a actual incorrecta","en":"Wrong current password "},"signin":{"es":"Ir a la p\xe1gina de registro","en":"Go to login page"}}')},347:function(e){e.exports=JSON.parse('{"choosefile":{"es":"Seleccione","en":"Choose"},"btnCambiar":{"es":"Guardar","en":"Save"},"onError":{"es":"El avatar no se pudo guardar","en":"Avatar can\'t save"}}')},349:function(e){e.exports=JSON.parse('{"title":{"es":"Editar perfil","en":"Edit profile"},"email":{"es":"Correo","en":"Email"},"firstName":{"es":"Nombre","en":"First name"},"lastName":{"es":"Apellidos","en":"Last name"},"nickname":{"es":"Nombre de pila","en":"Nick name"},"gender":{"es":"G\xe9nero","en":"Gender"},"invalidEmail":{"es":"Correo inv\xe1lido","en":"Invalid email"},"nicknameNull":{"es":"El nombre de pila no puede estar vacio","en":"Nickname can\'t be empty"},"nameInvalid":{"es":"Sin espacios. Sin n\xfameros.","en":"No spaces. No numbers."},"nameShort":{"es":"Muy corto (min 2)","en":"Too Short (2 min)"},"nameLong":{"es":"Muy largo (max 20)","en":"Too long (max 20)"},"duplicated":{"es":"El correo ya se encuentra registrado.","en":"The email is already registered."},"error":{"es":"Error interno","en":"Internal error"},"onSaveSuccess":{"es":"Perfil editado correctamente","en":"Profile edited successfully"},"save":{"es":"Guardar","en":"Save"},"female":{"es":"Femenino","en":"Female"},"male":{"es":"Masculino","en":"Male"}}')},350:function(e){e.exports=JSON.parse('{"winTitle":{"es":"Compartir aplicaci\xf3n","en":"Share application"},"text":{"es":"Escribe el nombre y la direccion de correo el\xe9ctronico de un amigo para invitarlo y se pueda comunicar contigo por esta v\xeda","en":"Write the name and the email address to invite your friend and can comunicate with you using this app"},"email":{"es":"Correo Electr\xf3nico","en":"Email Address"},"name":{"es":"Nombre","en":"First Name"},"send":{"es":"Enviar","en":"Send"},"sendSuccess":{"es":"Invitaci\xf3n eviada","en":"Invitation sended"},"nameInvalid":{"es":"Sin espacios. Sin n\xfameros.","en":"No spaces. No numbers."},"nameShort":{"es":"Muy corto (min 2)","en":"Too Short (2 min)"},"nameLong":{"es":"Muy largo (max 20)","en":"Too long (max 20)"},"emailExist":{"es":"El usuario ya est\xe1 registrado en el sistema","en":"The user is already in the system"}}')},352:function(e){e.exports=JSON.parse('{"title":{"es":"Calif\xedcanos","en":"Rate us"},"comment":{"es":"Comentario","en":"Comment"},"unrated":{"es":"Sin calificar","en":"Unrated"},"useless":{"es":"Inservible","en":"Useless"},"useless+":{"es":"Inservible+","en":"Useless+"},"poor":{"es":"Pobre","en":"Poor"},"poor+":{"es":"Pobre+","en":"Poor+"},"ok":{"es":"Ok","en":"Ok"},"ok+":{"es":"Ok+","en":"Ok+"},"good":{"es":"Bueno","en":"Good"},"good+":{"es":"Bueno+","en":"Good+"},"excellent":{"es":"Excelente","en":"Excellent"},"excellent+":{"es":"Excelente+","en":"Excellent+"},"design":{"es":"Dise\xf1o","en":"Design"},"performance":{"es":"Rendimiento","en":"Performance"},"usability":{"es":"Usabilidad","en":"Usability"},"lbAverage":{"es":"Promedio","en":"Average"},"lbOnLoadError":{"es":"Error al cargar su calificaci\xf3n previa","en":"Error loading previous rating"},"lbOnSaveError":{"es":"Error al guardar su calificaci\xf3n","en":"Error saving your rating"},"lbOnsaveOk":{"es":"Calificaci\xf3n guardada","en":"Rating saved"},"save":{"es":"Guardar","en":"Save"}}')},353:function(e){e.exports=JSON.parse('{"winTitle":{"es":"Reportar error","en":"Report bug"},"text":{"es":"Su reporte nos ayuda a identificar errores en la aplicaci\xf3n. Sea lo m\xe1s espec\xedfico posible cuando los redacte.","en":"Your report help us to identify errors in the application. Be as most specific as posible."},"send":{"es":"Enviar","en":"Send"},"report":{"es":"Escriba el reporte aqu\xed ...","en":"Report here ..."},"sendError":{"es":"Ocurri\xf3 un error!","en":"Something went wrong!"},"sendOk":{"es":"El reporte fue enviado!","en":"The report was sended!"}}')},368:function(e){e.exports=JSON.parse('{"share":{"es":"Compartir","en":"Share"},"shareDesc":{"es":"Envia un correo elect\xf3nico a tus amigos para compartir la aplicaci\xf3n","en":"Send a email to your friends to share."},"report":{"es":"Reportar un error","en":"Report a bug"},"reportDesc":{"es":"Reporta un error y lo corregiremos lo mas pronto posible.","en":"Report a bug and we will correct it as soon as possible."},"feedback":{"es":"Retroalimenzaci\xf3n","en":"Feedback"},"feedbackDesc":{"es":"H\xe1ganos saber que piensa de la aplicaci\xf3n y que podemos hacer para mejorar.","en":"Let us know what you think of the application and what we can do to improve."},"edit":{"es":"Editar perfil","en":"Edit profile"},"editDesc":{"es":"Edita los datos de tu perfil.","en":"Edit your profile data."},"logout":{"es":"Salir","en":"Logout"},"editpass":{"es":"Cambiar contrase\xf1a","en":"Edit password"},"editpassDesc":{"es":"Permite cambiar su contrase\xf1a.","en":"Allow edit your password."},"darkMode":{"es":"Modo noche","en":"Dark mode"}}')},430:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(4),l=t(15),i=t(296),c=t(369),s=t(370),u=t(94),m=t(260),d=t(305),p=t(322),g=t(8),v=t(420),b=t(421),f=t(354),h=t(438),E=t(357),O=t(306),S=t(358),C=t(359),j=t(422),y=t(304),x=t(317),k=t(363),w=t(311),N=t(419),P=t(297),R=t(360),T=t.n(R),A=t(367),F=t.n(A),W=t(331),D=t.n(W),q=t(366),M=t.n(q),z=t(361),I=t.n(z),L=t(365),B=t.n(L),V=t(362),G=t.n(V),U=t(364),J=t.n(U),H=t(356),$=t.n(H),Y=t(92),Z=t(90),_=t(6),X=t(120),K=t(324),Q=t(24),ee=t(309),ae=t(318),te=t(308),ne=t(59),re=t.n(ne),oe=Object(i.a)((function(e){return{paper:{marginTop:e.spacing(4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),le=function(e){var a=e.text,t=e.idioma,n=e.oldPassState,o=e.passState,l=e.pass2State,i=e.onOldPassChange,c=e.onPassChange,s=e.onPass2Change,m=e.submitPass,d=oe();return r.a.createElement(ee.a,{component:"main",maxWidth:"xs"},r.a.createElement("div",{className:d.paper},r.a.createElement(p.a,{className:d.avatar},r.a.createElement(re.a,{fontSize:"large"})),r.a.createElement(u.a,{component:"h1",variant:"h5"},a.title[t]),r.a.createElement("form",{className:d.form,noValidate:!0},r.a.createElement(ae.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:a.oldpassword[t],type:"password",id:"oldpassword",autoComplete:"current-password",value:n.value,onChange:i,helperText:n.valid?"":a.invalidOldPass[t],error:!n.valid}),r.a.createElement(ae.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:a.password[t],type:"password",id:"password",autoComplete:"current-password",value:o.value,onChange:c,helperText:o.valid?"":a.invalidPass[t],error:!o.valid}),r.a.createElement(ae.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:a.repeatPassword[t],type:"password",id:"password",autoComplete:"current-password",value:l.value,onChange:s,helperText:l.valid?"":a.passNotEqual[t],error:!l.valid}),r.a.createElement(te.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:d.submit,onClick:m},a.changePass[t]))))},ie=t(346),ce=function(){var e=Object(o.useRecoilValue)(g.h),a=Object(X.a)(),t=Object(K.a)().postRequest,i=Object(Q.a)().openErrorNotification,c=Object(n.useState)({value:"",valid:!0}),s=Object(l.a)(c,2),u=s[0],m=s[1],d=Object(n.useState)({value:"",valid:!0}),p=Object(l.a)(d,2),v=p[0],b=p[1],f=Object(n.useState)({value:"",valid:!0}),h=Object(l.a)(f,2),E=h[0],O=h[1];return r.a.createElement(le,{text:ie,idioma:e,oldPassState:u,passState:v,pass2State:E,onOldPassChange:function(e){var a=e.target.value;m(Object(_.a)(Object(_.a)({},v),{},{value:a,valid:!0}))},onPassChange:function(e){var a=e.target.value;b(Object(_.a)(Object(_.a)({},v),{},{value:a,valid:!0})),O(Object(_.a)(Object(_.a)({},E),{},{valid:!0}))},onPass2Change:function(e){var a=e.target.value;O(Object(_.a)(Object(_.a)({},E),{},{value:a,valid:!0}))},submitPass:function(n){n.preventDefault(),0===u.value.length?m(Object(_.a)(Object(_.a)({},u),{},{valid:!1})):v.value.length<8?b(Object(_.a)(Object(_.a)({},v),{},{valid:!1})):E.value!==v.value?O(Object(_.a)(Object(_.a)({},E),{},{valid:!1})):t({url:"/users/changePassword",bodyParams:{oldPassword:u.value,password:v.value},messageOnSuccess:ie.passChangeOk[e],doFnAfterSuccess:function(e){200===e.status&&a()},doFnAfterError:function(a){console.log(a.response),403===a.response.status?i(ie.passChange403Error[e]):i(ie.passChangeError[e])}})}})},se=function(e){return r.a.createElement(ce,e)},ue=t(14),me=t(330),de=t.n(me),pe=Object(i.a)((function(e){return{avatarEdit:{margin:e.spacing(2),marginLeft:e.spacing(3),display:"flex",flexDirection:"row",alignItems:"center",justifyContent:""},avatar:{marginLeft:e.spacing(7),width:e.spacing(10),height:e.spacing(10)},button:{width:"100%",marginBottom:e.spacing(2)}}})),ge=function(e){var a=e.text,t=e.idioma,n=e.preview,o=e.setPreview,l=e.avatarRef,i=e.onAvatarChange,c=pe();return r.a.createElement(ee.a,{component:"main",maxWidth:"xs"},r.a.createElement("div",{className:c.avatarEdit},r.a.createElement(de.a,{width:120,height:100,onCrop:function(e){o(e)},onClose:function(){o(null)},closeIconColor:Z.a[500],label:a.choosefile[t],ref:l}),r.a.createElement(p.a,{src:n,variant:"circle",className:c.avatar})),r.a.createElement(te.a,{variant:"contained",color:"primary",disabled:null===n,className:c.button,onClick:i},a.btnCambiar[t]))},ve=t(347),be=function(e){var a=e.close,t=Object(o.useRecoilValue)(g.h),i=Object(K.a)().postRequest,c=Object(o.useSetRecoilState)(g.l),s=Object(n.useState)(null),u=Object(l.a)(s,2),m=u[0],d=u[1],p=Object(n.useRef)(null);return r.a.createElement(ge,{text:ve,idioma:t,preview:m,setPreview:d,avatarRef:p,onAvatarChange:function(){i({url:"/users/changeAvatar",bodyParams:{avatar:m},messageOnError:ve.onError[t],doFnAfterSuccess:function(e){200===e.status&&(a(),c("".concat(ue.a.server).concat(e.data.avatarUrl)))}})}})},fe=function(e){return r.a.createElement(be,e)},he=t(5),Ee=t(310),Oe=t(312),Se=t(348),Ce=t.n(Se),je=Object(i.a)((function(e){return{paper:{marginTop:e.spacing(4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},link:{cursor:"pointer",textDecoration:"none",color:e.palette.text.secondary,"&:hover":{textDecoration:"underline"}},customSwitch:{alignSelf:"center"}}})),ye=Object(he.a)((function(e){return{switchBase:{color:Y.a[800],"&$checked":{color:Z.a[500],"& + $track":{opacity:1,backgroundColor:e.palette.common.white,borderColor:e.palette.common.white}}},track:{opacity:1,backgroundColor:e.palette.common.white},checked:{}}}))(N.a),xe=function(e){var a=e.text,t=e.idioma,n=(e.isOpen,e.setClose,e.userData,e.lastName),o=e.nameState,l=e.nicknameState,i=e.emailState,c=e.gender,s=e.onNameChange,m=e.onEmailChange,d=e.onNickNameChange,g=e.onLastNameChange,v=e.onSwitchGender,b=e.onSave,f=(e.avatarSrc,je());return r.a.createElement(ee.a,{component:"main",maxWidth:"xs"},r.a.createElement(Ee.a,null),r.a.createElement("div",{className:f.paper},r.a.createElement(p.a,{className:f.avatar},r.a.createElement(Ce.a,{fontSize:"large"})),r.a.createElement(u.a,{component:"h1",variant:"h5"},a.title[t]),r.a.createElement("form",{className:f.form,noValidate:!0},r.a.createElement(Oe.a,{container:!0,spacing:2},r.a.createElement(Oe.a,{item:!0,xs:12,sm:6},r.a.createElement(ae.a,{autoComplete:"fname",name:"firstName",variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:a.firstName[t],autoFocus:!0,value:o.value,helperText:o.valid?"":a[o.msg][t],error:!o.valid,onChange:s})),r.a.createElement(Oe.a,{item:!0,xs:12,sm:6},r.a.createElement(ae.a,{variant:"outlined",fullWidth:!0,id:"lastName",label:a.lastName[t],name:"lastName",autoComplete:"lname",value:n.value,onChange:g})),r.a.createElement(Oe.a,{item:!0,xs:12},r.a.createElement(ae.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:a.email[t],name:"email",autoComplete:"email",value:i.value,helperText:i.valid?"":a.invalidEmail[t],error:!i.valid,onChange:m})),r.a.createElement(Oe.a,{item:!0,xs:12},r.a.createElement(ae.a,{variant:"outlined",required:!0,fullWidth:!0,name:"nickname",label:a.nickname[t],id:"nickname",value:l.value,helperText:l.valid?"":a[l.msg][t],error:!l.valid,onChange:d})),r.a.createElement(u.a,{component:"div",style:{width:"100%"}},r.a.createElement(Oe.a,{component:"label",container:!0,alignItems:"center",spacing:1,style:{width:"100%",margin:0,justifyContent:"center"}},r.a.createElement(Oe.a,{item:!0},a.male[t]),r.a.createElement(Oe.a,{item:!0},r.a.createElement(ye,{checked:c,onChange:v,name:"checkedC",className:f.customSwitch})),r.a.createElement(Oe.a,{item:!0},a.female[t])))),r.a.createElement(te.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:f.submit,onClick:b},a.save[t]))))},ke=t(349),we=function(e){var a=e.close,t=Object(o.useRecoilValue)(g.h),i=Object(o.useRecoilValue)(g.l),c=Object(o.useRecoilState)(g.i),s=Object(l.a)(c,2),u=s[0],m=s[1],d=Object(K.a)().postRequest,p=Object(Q.a)().openErrorNotification,v=Object(n.useState)({value:u.email,valid:!0}),b=Object(l.a)(v,2),f=b[0],h=b[1],E=Object(n.useState)({value:u.nickname,valid:!0}),O=Object(l.a)(E,2),S=O[0],C=O[1],j=Object(n.useState)({value:u.firstName,valid:!0}),y=Object(l.a)(j,2),x=y[0],k=y[1],w=Object(n.useState)({value:u.lastName,valid:!0}),N=Object(l.a)(w,2),P=N[0],R=N[1],T=Object(n.useState)("F"===u.gender),A=Object(l.a)(T,2),F=A[0],W=A[1];return r.a.createElement(xe,{userData:u,text:ke,idioma:t,lastName:P,nameState:x,nicknameState:S,emailState:f,gender:F,onNameChange:function(e){var a=e.target.value;k((function(e){return Object(_.a)(Object(_.a)({},e),{},{value:a,valid:!0})}))},onEmailChange:function(e){var a=e.target.value;h((function(e){return Object(_.a)(Object(_.a)({},e),{},{value:a,valid:!0})}))},onNickNameChange:function(e){var a=e.target.value;C((function(e){return Object(_.a)(Object(_.a)({},e),{},{value:a,valid:!0})}))},onLastNameChange:function(e){var a=e.target.value;R((function(e){return Object(_.a)(Object(_.a)({},e),{},{value:a,valid:!0})}))},onSwitchGender:function(e){e.target.checked;W((function(e){return!e}))},avatarSrc:i,onSave:function(e){if(e.preventDefault(),/^[a-zA-Z\']+$/.test(x.value))if(x.value.length<2)k(Object(_.a)(Object(_.a)({},x),{},{valid:!1,msg:"nameShort"}));else if(x.value.length>=20)k(Object(_.a)(Object(_.a)({},x),{},{valid:!1,msg:"nameLong"}));else if(/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/.test(f.value))if(0===S.value.length)C(Object(_.a)(Object(_.a)({},S),{},{valid:!1,msg:"nicknameNull"}));else{var n={firstName:x.value,lastName:P.value,nickname:S.value,email:f.value,gender:F?"F":"M"};d({url:"/users/editprofile",bodyParams:n,messageOnSuccess:ke.onSaveSuccess[t],doFnAfterError:function(e){409===e.response.status?p(ke.duplicated[t]):p(ke.error[t])},doFnAfterSuccess:function(e){m(Object(_.a)(Object(_.a)({},u),n)),a()}})}else h(Object(_.a)(Object(_.a)({},f),{},{valid:!1}));else k(Object(_.a)(Object(_.a)({},x),{},{valid:!1,msg:"nameInvalid"}))}})},Ne=function(e){return r.a.createElement(we,e)},Pe=t(299),Re=t(300),Te=t(301),Ae=t(307),Fe=function(e){var a=e.idioma,t=e.text,n=e.nameState,o=e.onNameChange,l=e.emailState,i=e.onEmailChange,c=e.onSend;return r.a.createElement(ee.a,{maxWidth:"sm"},r.a.createElement(Pe.a,{id:"form-dialog-title"},t.winTitle[a]),r.a.createElement(Re.a,null,r.a.createElement(Te.a,null,t.text[a]),r.a.createElement(Oe.a,{container:!0,spacing:2},r.a.createElement(Oe.a,{item:!0,xs:12},r.a.createElement(ae.a,{autoComplete:"fname",name:"firstName",variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:t.name[a],autoFocus:!0,value:n.value,helperText:n.valid?"":t[n.msg][a],error:!n.valid,onChange:o})),r.a.createElement(Oe.a,{item:!0,xs:12},r.a.createElement(ae.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:t.email[a],name:"email",type:"email",autoComplete:"email",value:l.value,helperText:l.valid?"":t.invalidEmail[a],error:!l.valid,onChange:i})))),r.a.createElement(Ae.a,null,r.a.createElement(te.a,{onClick:c},t.send[a])))},We=t(350),De=function(e){var a=e.close,t=Object(o.useRecoilValue)(g.h),i=Object(K.a)().postRequest,c=Object(Q.a)().openErrorNotification,s=Object(n.useState)({value:"",valid:!0}),u=Object(l.a)(s,2),m=u[0],d=u[1],p=Object(n.useState)({value:"",valid:!0}),v=Object(l.a)(p,2),b=v[0],f=v[1];return r.a.createElement(Fe,{text:We,idioma:t,nameState:b,onNameChange:function(e){var a=e.target.value;f((function(e){return Object(_.a)(Object(_.a)({},e),{},{value:a,valid:!0})}))},emailState:m,onEmailChange:function(e){var a=e.target.value;d((function(e){return Object(_.a)(Object(_.a)({},e),{},{value:a,valid:!0})}))},onSend:function(e){e.preventDefault(),/^[a-zA-Z\']+$/.test(b.value)?b.value.length<2?f(Object(_.a)(Object(_.a)({},b),{},{valid:!1,msg:"nameShort"})):b.value.length>=20?f(Object(_.a)(Object(_.a)({},b),{},{valid:!1,msg:"nameLong"})):/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/.test(m.value)?i({url:"/users/shareapp",bodyParams:{firstName:b.value,email:m.value,language:t,hostname:window.location.host},messageOnSuccess:We.sendSuccess[t],doFnAfterError:function(e){409===e.response.status&&c(We.emailExist[t])},doFnAfterSuccess:function(e){a()}}):d(Object(_.a)(Object(_.a)({},m),{},{valid:!1})):f(Object(_.a)(Object(_.a)({},b),{},{valid:!1,msg:"nameInvalid"}))}})},qe=function(e){return r.a.createElement(De,e)},Me=t(65),ze=t(442),Ie=t(432),Le={0:"unrated",.5:"useless",1:"useless+",1.5:"poor",2:"poor+",2.5:"ok",3:"ok+",3.5:"good",4:"good+",4.5:"excellent",5:"excellent+"},Be=Object(i.a)((function(e){return{ratingRow:{width:"250px",display:"flex",alignItems:"center",marginBottom:e.spacing(1)}}})),Ve=r.a.memo((function(e){var a=e.text,t=e.idioma,n=e.globalState,o=e.onChange,l=e.comentState,i=e.onCommentChange,c=e.onSave,s=Be();return r.a.createElement(ee.a,{maxWidth:"sm"},r.a.createElement(Pe.a,{id:"form-dialog-title"},a.title[t]),r.a.createElement(Re.a,null,r.a.createElement(Oe.a,{container:!0,spacing:2},r.a.createElement(Oe.a,{item:!0,xs:6},r.a.createElement(Ge,{text:a,idioma:t,classes:s,globalState:n,onChange:o,type:"design"}),r.a.createElement(Ge,{text:a,idioma:t,classes:s,globalState:n,onChange:o,type:"performance"}),r.a.createElement(Ge,{text:a,idioma:t,classes:s,globalState:n,onChange:o,type:"usability"})),r.a.createElement(Oe.a,{item:!0,xs:6,style:{display:"flex"}},r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement("div",null,r.a.createElement(u.a,{className:s.ratingType},a.lbAverage[t]),r.a.createElement("div",{className:s.ratingRow},r.a.createElement(ze.a,{readOnly:!0,name:"hover-feedback",size:"large",value:n.overall,precision:.5}),null!==n.overall&&r.a.createElement(Ie.a,{ml:2},a[Le[n.overall]][t]))))),r.a.createElement(Oe.a,{item:!0,xs:12},r.a.createElement(ae.a,{id:"outlined-textarea",label:a.comment[t],multiline:!0,variant:"outlined",fullWidth:!0,rowsMax:4,value:l,onChange:i})))),r.a.createElement(Ae.a,null,r.a.createElement(te.a,{onClick:c},a.save[t])))})),Ge=r.a.memo((function(e){var a=e.text,t=e.idioma,n=e.classes,o=e.globalState,i=e.onChange,c=e.type,s=r.a.useState(-1),m=Object(l.a)(s,2),d=m[0],p=m[1];return r.a.createElement(Oe.a,{item:!0,xs:12},r.a.createElement(u.a,{className:n.ratingType},a[c][t]),r.a.createElement("div",{className:n.ratingRow},r.a.createElement(ze.a,{value:o[c],precision:.5,onChange:function(e,a){return i(a,c)},onChangeActive:function(e,a){return p(a)}}),null!==o[c]&&r.a.createElement(Ie.a,{ml:2},a[Le[-1!==d?d:o[c]]][t])))})),Ue=Ve,Je=t(352),He=function(e){var a=e.close,t=Object(o.useRecoilValue)(g.h),i=Object(K.a)().postRequest,c=Object(n.useState)(""),s=Object(l.a)(c,2),u=s[0],m=s[1],d=Object(n.useState)({design:0,performance:0,usability:0,overall:0}),p=Object(l.a)(d,2),v=p[0],b=p[1],f=function(e,a,t){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=n>0?1:0,o=n;if(e>0&&(o+=e,r++),a>0&&(o+=a,r++),t>0&&(o+=t,r++),r>0){var l=(o/=r)%.5;o-=l}return o},h=Object(n.useCallback)((function(e,a){b((function(t){var n,r=0,o=0,l=0;"design"!==a&&t.design>0&&(r=t.design),"performance"!==a&&t.performance>0&&(o=t.performance),"usability"!==a&&t.usability>0&&(l=t.usability);var i=f(r,o,l,e);return Object(_.a)(Object(_.a)({},t),{},(n={},Object(Me.a)(n,a,e),Object(Me.a)(n,"overall",i),n))}))}),[]);Object(n.useEffect)((function(){i({url:"/users/getUserFeedback",messageOnError:Je.lbOnLoadError[t],doFnAfterSuccess:function(e){if(200===e.status){var a=e.data.rating,t={design:a.design,performance:a.performance,usability:a.usability,overall:f(a.design,a.performance,a.usability)};b(t),m(a.comment)}}})}),[]);return r.a.createElement(Ue,{text:Je,idioma:t,globalState:v,onChange:h,comentState:u,onCommentChange:function(e){var a=e.target.value;m(a)},onSave:function(){i({url:"/users/saveFeedback",bodyParams:{designRating:v.design,performaceRating:v.performance,usabilityRating:v.usability,comment:u},messageOnError:Je.lbOnSaveError[t],messageOnSuccess:Je.lbOnsaveOk[t],doFnAfterSuccess:function(e){a()}})}})},$e=r.a.memo((function(e){return r.a.createElement(He,e)})),Ye=function(e){var a=e.idioma,t=e.text,n=e.comentState,o=e.onCommentChange,l=e.onSend;return r.a.createElement(ee.a,{maxWidth:"sm"},r.a.createElement(Pe.a,{id:"form-dialog-title"},t.winTitle[a]),r.a.createElement(Re.a,null,r.a.createElement(Te.a,null,t.text[a]),r.a.createElement(Oe.a,{container:!0,spacing:2},r.a.createElement(Oe.a,{item:!0,xs:12},r.a.createElement(ae.a,{id:"outlined-textarea",label:t.report[a],multiline:!0,variant:"outlined",fullWidth:!0,rowsMax:4,rows:4,value:n,onChange:o})))),r.a.createElement(Ae.a,null,r.a.createElement(te.a,{onClick:l},t.send[a])))},Ze=t(353),_e=function(e){var a=e.close,t=Object(o.useRecoilValue)(g.h),i=Object(K.a)().postRequest,c=Object(n.useState)(""),s=Object(l.a)(c,2),u=s[0],m=s[1];return r.a.createElement(Ye,{text:Ze,idioma:t,comentState:u,onCommentChange:function(e){var a=e.target.value;m(a)},onSend:function(){i({url:"/bugs/saveBugReport",bodyParams:{description:u},messageOnError:Ze.sendError[t],messageOnSuccess:Ze.sendOk[t],doFnAfterSuccess:function(e){a()}})}})},Xe=function(e){return r.a.createElement(_e,e)},Ke=Object(i.a)((function(e){return{root:{maxWidth:345},avatar:{width:e.spacing(7),height:e.spacing(7)},cardHeaderAction:{alignSelf:"flex-end"},cardHeaderContent:{overflowX:"hidden",marginRight:e.spacing(2)},langSelect:{fontSize:"0.9em",fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',fontWeight:400,lineHeight:1.5,letterSpacing:"0.00938em"},avatarMan:{color:e.palette.getContrastText(Y.a[400]),backgroundColor:Y.a[400]},avatarWoman:{color:e.palette.getContrastText(Z.a[300]),backgroundColor:Z.a[300]}}})),Qe=Object(i.a)((function(e){return{iconButton:{backgroundColor:e.palette.background.default,boxShadow:"0 0 5px ".concat(e.palette.action.disabled),"&:hover":{backgroundColor:e.palette.background.default}}}})),ea=function(e){var a=e.onClick,t=Qe();return r.a.createElement(m.a,{size:"small",className:t.iconButton,onClick:a},r.a.createElement(F.a,{fontSize:"small"}))},aa=function(e){var a=e.text,t=e.idioma,n=e.avatarUrl,o=e.userData,l=e.logout,i=e.changeIdioma,c=e.darkMode,s=e.changeTheme,u=e.changePass,d=e.setChangePass,g=e.changeAvatar,R=e.setChangeAvatar,A=e.editProfile,F=e.setChangeProfile,W=e.shareApp,q=e.setShareApp,z=e.feedback,L=e.setFeedback,V=e.bugreport,U=e.setBugreport,H=Ke();return r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{className:H.root},r.a.createElement(b.a,{classes:{action:H.cardHeaderAction,content:H.cardHeaderContent},avatar:r.a.createElement(f.a,{overlap:"circle",anchorOrigin:{vertical:"bottom",horizontal:"right"},badgeContent:r.a.createElement(ea,{onClick:R})},r.a.createElement(p.a,{"aria-label":"recipe",className:"".concat(H.avatar," ").concat("M"===o.gender?H.avatarMan:H.avatarWoman),src:n})),action:r.a.createElement(h.a,{title:a.logout[t]},r.a.createElement(m.a,{onClick:l},r.a.createElement($.a,null))),title:o.nickname,subheader:o.email}),r.a.createElement(E.a,null),r.a.createElement(O.a,null,r.a.createElement(S.a,{button:!0,onClick:F},r.a.createElement(C.a,null,r.a.createElement(T.a,null)),r.a.createElement(j.a,{primary:a.edit[t],primaryTypographyProps:{style:{fontSize:"0.9em"}}})),r.a.createElement(S.a,{button:!0,onClick:d},r.a.createElement(C.a,null,r.a.createElement(I.a,null)),r.a.createElement(j.a,{primary:a.editpass[t],primaryTypographyProps:{style:{fontSize:"0.9em"}}})),r.a.createElement(S.a,null,r.a.createElement(C.a,null,r.a.createElement(G.a,null)),r.a.createElement(y.a,null,r.a.createElement(x.a,{value:t,onChange:i,displayEmpty:!0,className:H.langSelect,inputProps:{"aria-label":"Without label"}},r.a.createElement(k.a,{value:"en"},"English"),r.a.createElement(k.a,{value:"es"},"Espa\xf1ol")))),r.a.createElement(S.a,null,r.a.createElement(C.a,null,r.a.createElement(J.a,null)),r.a.createElement(w.a,{control:r.a.createElement(N.a,{checked:c,onChange:s,color:"primary"}),label:a.darkMode[t]})),r.a.createElement(E.a,null),r.a.createElement(S.a,{button:!0,onClick:q},r.a.createElement(C.a,null,r.a.createElement(D.a,null)),r.a.createElement(j.a,{primary:a.share[t],primaryTypographyProps:{style:{fontSize:"0.9em"}},secondary:a.shareDesc[t],secondaryTypographyProps:{style:{fontSize:"0.8em"}}})),r.a.createElement(S.a,{button:!0,onClick:L},r.a.createElement(C.a,null,r.a.createElement(B.a,null)),r.a.createElement(j.a,{primary:a.feedback[t],primaryTypographyProps:{style:{fontSize:"0.9em"}},secondary:a.feedbackDesc[t],secondaryTypographyProps:{style:{fontSize:"0.8em"}}})),r.a.createElement(S.a,{button:!0,onClick:U},r.a.createElement(C.a,null,r.a.createElement(M.a,null)),r.a.createElement(j.a,{primary:a.report[t],primaryTypographyProps:{style:{fontSize:"0.9em"}},secondary:a.reportDesc[t],secondaryTypographyProps:{style:{fontSize:"0.8em"}}})))),r.a.createElement(P.a,{open:u,onClose:d},r.a.createElement(se,null)),r.a.createElement(P.a,{open:g,onClose:R},r.a.createElement(fe,{close:R})),r.a.createElement(P.a,{open:A,onClose:F},r.a.createElement(Ne,{close:F})),r.a.createElement(P.a,{open:W,onClose:q},r.a.createElement(qe,{close:q})),r.a.createElement(P.a,{open:z,onClose:L},r.a.createElement($e,{close:L})),r.a.createElement(P.a,{open:V,onClose:U},r.a.createElement(Xe,{close:U})))},ta=t(368),na=function(e){var a=Object(n.useState)(!1),t=Object(l.a)(a,2),i=t[0],c=t[1],s=Object(n.useState)(!1),u=Object(l.a)(s,2),m=u[0],d=u[1],p=Object(n.useState)(!1),v=Object(l.a)(p,2),b=v[0],f=v[1],h=Object(n.useState)(!1),E=Object(l.a)(h,2),O=E[0],S=E[1],C=Object(n.useState)(!1),j=Object(l.a)(C,2),y=j[0],x=j[1],k=Object(n.useState)(!1),w=Object(l.a)(k,2),N=w[0],P=w[1],R=Object(o.useRecoilState)(g.h),T=Object(l.a)(R,2),A=T[0],F=T[1],W=Object(o.useRecoilState)(g.e),D=Object(l.a)(W,2),q=D[0],M=D[1],z=Object(o.useRecoilValue)(g.i),I=Object(o.useRecoilValue)(g.l),L=Object(X.a)(),B=Object(K.a)().postRequest;return r.a.createElement(r.a.Fragment,null,r.a.createElement(aa,{text:ta,idioma:A,avatarUrl:I,userData:z,logout:L,changeIdioma:function(e){var a=e.target.value;F(a),B({url:"/users/changeUserLanguage",bodyParams:{lang:a}})},darkMode:q,changeTheme:function(){localStorage.setItem("darkMode",!q),M((function(e){return!e}))},changePass:i,setChangePass:function(){c((function(e){return!e}))},changeAvatar:m,setChangeAvatar:function(){d((function(e){return!e}))},editProfile:b,setChangeProfile:function(){f((function(e){return!e}))},shareApp:O,setShareApp:function(){S((function(e){return!e}))},feedback:y,setFeedback:function(){x((function(e){return!e}))},bugreport:N,setBugreport:function(){P((function(e){return!e}))}}))},ra=function(e){return r.a.createElement(na,null)},oa=Object(i.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},avatarMan:{color:e.palette.getContrastText(Y.a[400]),backgroundColor:Y.a[400]},avatarWoman:{color:e.palette.getContrastText(Z.a[300]),backgroundColor:Z.a[300]}}})),la=function(e){var a=e.avatarSrc,t=e.userData,n=oa(),o=r.a.useState(null),i=Object(l.a)(o,2),g=i[0],v=i[1],b=Boolean(g);return r.a.createElement("div",{className:n.root},r.a.createElement(c.a,{position:"static"},r.a.createElement(s.a,null,r.a.createElement(u.a,{variant:"h6",className:n.title},"Shutapp"),r.a.createElement("div",null,r.a.createElement(m.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){v(e.currentTarget)},color:"inherit"},r.a.createElement(p.a,{src:a,className:"M"===t.gender?n.avatarMan:n.avatarWoman})),r.a.createElement(d.a,{open:b,anchorEl:g,onClose:function(){v(null)},anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"}},r.a.createElement(ra,null))))))},ia=function(e){var a=Object(o.useRecoilValue)(g.l),t=Object(o.useRecoilValue)(g.i);return r.a.createElement(la,{avatarSrc:a,userData:t})};a.default=function(e){return r.a.createElement(ia,null)}}}]);
//# sourceMappingURL=10.ee242f0c.chunk.js.map