(this.webpackJsonpchat_front=this.webpackJsonpchat_front||[]).push([[6],{317:function(e,t,a){"use strict";a.d(t,"d",(function(){return d})),a.d(t,"e",(function(){return u})),a.d(t,"a",(function(){return f})),a.d(t,"c",(function(){return m})),a.d(t,"b",(function(){return p}));var n=a(59),r=a.n(n),c=a(10),o=a(106),i=a(321),s=a(6),l=a(13),d=Object(s.selector)({key:"friendSelector",get:function(e){var t=e.get;return t(l.f).length>0?Object(i.a)(t(l.f)).sort((function(e,t){if(1===e.friendShipStatus&&1===t.friendShipStatus){if(e.socketId&&!t.socketId)return-1;if(!e.socketId&&t.socketId)return 1}return e.friendShipStatus<t.friendShipStatus?-1:e.friendShipStatus>t.friendShipStatus?1:e.email<t.email?-1:e.email>t.email?1:void 0})):[]},set:function(){var e=Object(o.a)(r.a.mark((function e(t,a){var n,o,s,d,u,f,m,p,b,E,g;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.set,o=t.get,s=a.action,d=a.payload,e.t0=s,e.next="initialize"===e.t0?5:"add"===e.t0?7:"update"===e.t0?9:"reset_cant_no_leidos"===e.t0?11:"set_message_info"===e.t0?13:"delete"===e.t0?15:"connect"===e.t0?19:"disconnect"===e.t0?21:26;break;case 5:return n(l.f,(function(e){return 0===e.length?d.friends:e})),e.abrupt("break",27);case 7:return n(l.f,(function(e){var t=Object(i.a)(e);return t.push(d.friend),t})),e.abrupt("break",27);case 9:return n(l.f,(function(e){var t=e.findIndex((function(e){return e.contactId===d.friend.contactId}));return e.slice(0,t).concat([d.friend]).concat(e.slice(t+1))})),e.abrupt("break",27);case 11:return n(l.f,(function(e){var t=e.findIndex((function(e){return e.contactId===d.contactId}));return e.slice(0,t).concat([Object(c.a)(Object(c.a)({},e[t]),{},{unread:0})]).concat(e.slice(t+1))})),e.abrupt("break",27);case 13:return n(l.f,(function(e){var t=d.dataObj;return e.map((function(e){if(t[e.contactId]){var a=0;return e.unread&&(a=e.unread),t[e.contactId].cantidad&&(a+=t[e.contactId].cantidad),Object(c.a)(Object(c.a)({},e),{},{unread:a,lastMsg:t[e.contactId].lastMessage,datetime:t[e.contactId].datetime})}return e}))})),e.abrupt("break",27);case 15:return o(l.a)===d.friendId&&n(l.a,(function(e){return null})),n(l.f,(function(e){return e.filter((function(e){return e.contactId!==d.friendId}))})),e.abrupt("break",27);case 19:return Array.isArray(d.data)?n(l.f,(function(e){return e.map((function(e){var t=d.data.findIndex((function(t){return t.userId===e.contactId}));return t>=0?Object(c.a)(Object(c.a)({},e),{},{socketId:d.data[t].socketId}):Object(c.a)({},e)}))})):(u=d.data,f=u.userId,m=u.socketId,p=null,b=0,n(l.f,(function(e){var t=e.findIndex((function(e){return e.contactId===f}));if(t>=0){p=e[t].nickname,b=e[t].friendShipStatus;var a=Object(c.a)(Object(c.a)({},e[t]),{},{socketId:m});return e.slice(0,t).concat([a]).concat(e.slice(t+1))}return e})),p&&1===b&&d.notification("".concat(p," ").concat(d.msg[o(l.h)]),{variant:"info"})),e.abrupt("break",27);case 21:return E=null,g=0,n(l.f,(function(e){var t=e.findIndex((function(e){return e.socketId===d.socketId}));return t>=0?(E=e[t].nickname,g=e[t].friendShipStatus,Object(i.a)(e).slice(0,t).concat([Object(c.a)(Object(c.a)({},e[t]),{},{socketId:null})]).concat(e.slice(t+1))):e})),E&&1===g&&d.notification("".concat(E," ").concat(d.msg[o(l.h)]),{variant:"warning"}),e.abrupt("break",27);case 26:return e.abrupt("break",27);case 27:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()}),u=Object(s.selector)({key:"conversationSelector",set:function(e,t){var a=e.set,n=t.contactId,r=t.conversation,c=function(e,t,a,n){return e===a?0:t===a?n?3:2:void 0};a(Object(l.g)(n),(function(e){return r.map((function(e){return{_id:e._id,content:e.content,datetime:e.datetime,state:c(e.userOrigin,e.userDestiny,n,e.readed)}}))}))}}),f=Object(s.selector)({key:"addMessageToConversation",set:function(e,t){var a=e.set,n=t.contactId,r={_id:t.messageId,content:t.content,datetime:t.datetime,state:t.state};a(Object(l.g)(n),(function(e){return e.concat([r])}))}}),m=Object(s.selector)({key:"editMsgToStateSavedSelector",set:function(e,t){var a=e.set,n=t.contactId,r=t.messageId,o=t.datetime,i=t.consecutive;a(Object(l.g)(n),(function(e){var t=e.findIndex((function(e){return e._id===i&&1===e.state}));if(t>=0){var a=Object(c.a)(Object(c.a)({},e[t]),{},{state:2,_id:r,datetime:o});return e.slice(0,t).concat([a]).concat(e.slice(t+1))}return e}))}}),p=Object(s.selector)({key:"editAllMsgToSavedSelector",set:function(e,t){var a=e.set,n=t.contactId;a(Object(l.g)(n),(function(e){return e.map((function(e){return 0!==e.state?Object(c.a)(Object(c.a)({},e),{},{state:3}):e}))}))}})},318:function(e,t,a){"use strict";var n=a(34),r=a.n(n),c=a(6),o=a(102),i=a(45),s=a(33),l=a(13);t.a=function(){var e=Object(i.a)(),t=e.openErrorNotification,a=e.openSuccessNotification,n=Object(c.useRecoilValue)(l.h).idioma;return{postRequest:function(e){var c=e.url,i=e.bodyParams,l=void 0===i?{}:i,d=e.doFnAfterSuccess,u=void 0===d?null:d,f=e.doFnAfterError,m=void 0===f?null:f,p=e.messageOnSuccess,b=void 0===p?null:p,E=e.messageOnError,g=void 0===E?null:E;Object(o.a)((function(e){r.a.post("".concat(s.a.server).concat(c),l,{headers:{Authorization:e}}).then((function(t){b&&a(b),u&&u(t,e)})).catch((function(e){e.response?g&&t(g):t("es"===n?"Error de conexi\xf3n":"Network error"),m&&m(e)}))}))}}}},330:function(e){e.exports=JSON.parse('{"acceptInv":{"es":"Aceptar amigo","en":"Accept friend"},"errorAccepting":{"es":"Error al aceptar la solicitud","en":"Error accepting the friend request"}}')},331:function(e){e.exports=JSON.parse('{"block":{"es":"Bloquear contacto","en":"Block contact"},"onBlockError":{"es":"El contacto no se pudo bloquear","en":"Contact could not be block"}}')},356:function(e,t,a){"use strict";var n=a(1),r=a(2),c=a(0),o=(a(5),a(3)),i=a(4),s=a(104),l=c.forwardRef((function(e,t){var a=e.classes,i=e.className,l=Object(r.a)(e,["classes","className"]),d=c.useContext(s.a);return c.createElement("div",Object(n.a)({className:Object(o.a)(a.root,i,"flex-start"===d.alignItems&&a.alignItemsFlexStart),ref:t},l))}));t.a=Object(i.a)({root:{minWidth:56,flexShrink:0},alignItemsFlexStart:{marginTop:8}},{name:"MuiListItemAvatar"})(l)},357:function(e,t,a){"use strict";var n=a(1),r=a(2),c=a(0),o=(a(5),a(3)),i=a(4),s=c.forwardRef((function(e,t){var a=e.classes,i=e.className,s=Object(r.a)(e,["classes","className"]);return c.createElement("div",Object(n.a)({className:Object(o.a)(a.root,i),ref:t},s))}));s.muiName="ListItemSecondaryAction",t.a=Object(i.a)({root:{position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"}},{name:"MuiListItemSecondaryAction"})(s)},360:function(e){e.exports=JSON.parse('{"errorLoadingFriends":{"es":"Error al cargar contactos","en":"Error while loading contacts"},"errorLoadingFriendsData":{"es":"Error al cargar datos de contactos","en":"Error while loading contacts data"},"delete":{"es":"Eliminar","en":"Delete"},"beta":{"es":"SHUT-APP V2.0.0 Beta es una aplicaci\xf3n web de chat realizada sin ning\xfan \xe1nimo de lucro. La informaci\xf3n ingresada en esta no ser\xe1 divulgada bajo ning\xfan concepto.","en":"SHUT-APP V2.0.0 Beta is a non-profit chat web application. The information entered will not be disclosed under any circumstances."},"goMakeFriends":{"es":"Agrega a tus amigos o comparte la aplicacion con ellos si no conocen sobre esta.","en":"Add your friends o share the application with them if they don\'t know about it."}}')},361:function(e){e.exports=JSON.parse('{"REQUESTED":{"es":"Estado: PENDIENTE","en":"State: PENDING"},"ASKED":{"es":"Estado: SOLICITADO","en":"State: REQUESTED"},"DECLINED":{"es":"Estado: RECHAZADO","en":"State: DECLINED"},"BLOCKED":{"es":"Estado: BLOQUEADO","en":"State: BLOCKED"},"DELETED":{"es":"Estado: ELIMINADO","en":"State: DELETED"},"descREQUESTED":{"es":"Estado: Esperando a que acepten su solicitud de amistad","en":"State: Waiting for the acceptance of the friend request"},"descASKED":{"es":"Estado: Este usuario solicita ser su amigo","en":"State: This user wants to be your friend"},"descDECLINED":{"es":"Estado: Su solicitud de amistad ha sido rechazada","en":"State: Your friend request has been declined"},"descBLOCKED":{"es":"Estado: Usted ha sido bloqueado por este contacto","en":"State: You have been bloked by this contact"},"descDELETED":{"es":"Estado: Usted ha sido eliminado por este contacto","en":"State: You have been deleted by this contact"}}')},362:function(e,t,a){"use strict";var n=a(2),r=a(12),c=a(1),o=a(0),i=(a(5),a(3)),s=a(4),l=a(355),d=o.forwardRef((function(e,t){var a,r=e.classes,s=e.className,d=e.component,u=void 0===d?"li":d,f=e.disableGutters,m=void 0!==f&&f,p=e.ListItemClasses,b=e.role,E=void 0===b?"menuitem":b,g=e.selected,h=e.tabIndex,v=Object(n.a)(e,["classes","className","component","disableGutters","ListItemClasses","role","selected","tabIndex"]);return e.disabled||(a=void 0!==h?h:-1),o.createElement(l.a,Object(c.a)({button:!0,role:E,tabIndex:a,component:u,selected:g,disableGutters:m,classes:Object(c.a)({dense:r.dense},p),className:Object(i.a)(r.root,s,g&&r.selected,!m&&r.gutters),ref:t},v))}));t.a=Object(s.a)((function(e){return{root:Object(c.a)({},e.typography.body1,Object(r.a)({minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",width:"auto",overflow:"hidden",whiteSpace:"nowrap"},e.breakpoints.up("sm"),{minHeight:"auto"})),gutters:{},selected:{},dense:Object(c.a)({},e.typography.body2,{minHeight:"auto"})}}),{name:"MuiMenuItem"})(d)},363:function(e,t,a){"use strict";var n=a(1),r=a(2),c=a(0),o=(a(5),a(3)),i=a(4),s=a(104),l=c.forwardRef((function(e,t){var a=e.classes,i=e.className,l=Object(r.a)(e,["classes","className"]),d=c.useContext(s.a);return c.createElement("div",Object(n.a)({className:Object(o.a)(a.root,i,"flex-start"===d.alignItems&&a.alignItemsFlexStart),ref:t},l))}));t.a=Object(i.a)((function(e){return{root:{minWidth:56,color:e.palette.action.active,flexShrink:0,display:"inline-flex"},alignItemsFlexStart:{marginTop:8}}}),{name:"MuiListItemIcon"})(l)},364:function(e,t,a){"use strict";var n=a(82);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(0)),c=(0,n(a(100)).default)(r.default.createElement("g",{fillRule:"evenodd"},r.default.createElement("path",{d:"M9 17l3-2.94c-.39-.04-.68-.06-1-.06-2.67 0-8 1.34-8 4v2h9l-3-3zm2-5c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4M15.47 20.5L12 17l1.4-1.41 2.07 2.08 5.13-5.17 1.4 1.41z"})),"HowToReg");t.default=c},365:function(e){e.exports=JSON.parse('{"decline":{"es":"Cancelar peticion","en":"Decline request"},"errorDeclining":{"es":"Error al cancelar solicitud de amistad","en":"Error declining friend request"}}')},366:function(e,t,a){"use strict";var n=a(82);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(0)),c=(0,n(a(100)).default)(r.default.createElement("path",{d:"M22 4h-2c-.55 0-1 .45-1 1v9c0 .55.45 1 1 1h2V4zM2.17 11.12c-.11.25-.17.52-.17.8V13c0 1.1.9 2 2 2h5.5l-.92 4.65c-.05.22-.02.46.08.66.23.45.52.86.88 1.22L10 22l6.41-6.41c.38-.38.59-.89.59-1.42V6.34C17 5.05 15.95 4 14.66 4h-8.1c-.71 0-1.36.37-1.72.97l-2.67 6.15z"}),"ThumbDownAlt");t.default=c},367:function(e,t,a){"use strict";var n=a(82);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(0)),c=(0,n(a(100)).default)(r.default.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");t.default=c},368:function(e){e.exports=JSON.parse('{"delete":{"es":"Eliminar contacto","en":"Delete contact"},"onDeleteError":{"es":"El contacto no se pudo eliminar","en":"Contact could not be removed"}}')},369:function(e,t,a){"use strict";var n=a(82);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(0)),c=(0,n(a(100)).default)(r.default.createElement("path",{d:"M12.99 9.18c0-.06.01-.12.01-.18 0-2.21-1.79-4-4-4-.06 0-.12.01-.18.01l4.17 4.17zm-6.1-3.56L4.27 3 3 4.27l2.62 2.62C5.23 7.5 5 8.22 5 9c0 2.21 1.79 4 4 4 .78 0 1.5-.23 2.11-.62L19.73 21 21 19.73l-8.62-8.62-5.49-5.49zM9 15c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4zm7.76-9.64l-1.68 1.69c.84 1.18.84 2.71 0 3.89l1.68 1.69c2.02-2.02 2.02-5.07 0-7.27zM20.07 2l-1.63 1.63c2.77 3.02 2.77 7.56 0 10.74L20.07 16c3.9-3.89 3.91-9.95 0-14z"}),"VoiceOverOff");t.default=c},371:function(e,t,a){"use strict";var n=a(82);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(0)),c=(0,n(a(100)).default)(r.default.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"}),"Info");t.default=c},430:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(21),o=a(360),i=a(6),s=a(13),l=a(317),d=a(318),u=a(10),f=a(299),m=a(81),p=a(354),b=a(289),E=a(340),g=a(341),h=a(355),v=a(356),O=a(316),S=a(421),I=a(357),j=a(253),k=a(370),y=a(153),x=a(441),C=a(79),D=a(77),A=a(80),R=a(78),w=a(4),N=a(336),M=a.n(N),z=a(371),T=a.n(z),L=a(361),_=a(362),F=a(363),V=a(364),q=a.n(V),P=a(330),U=function(e){var t=e.idioma,a=e.onClick;return r.a.createElement(_.a,{onClick:a},r.a.createElement(F.a,null,r.a.createElement(q.a,{fontSize:"small",color:"primary"})),r.a.createElement(S.a,{primary:P.acceptInv[t]}))},B=a(101),H=function(e){var t=e.preAction,a=e.contact,n=Object(i.useRecoilValue)(s.h),c=Object(i.useRecoilValue)(s.i),o=Object(d.a)().postRequest,f=Object(i.useSetRecoilState)(l.d);return r.a.createElement(U,{idioma:n,onClick:function(){t(),o({url:"/users/acceptFriendRequest",bodyParams:{acceptedUserId:a.contactId},doFnAfterSuccess:function(e,t){f({action:"update",payload:{friend:Object(u.a)(Object(u.a)({},e.data.friend),{},{socketId:a.socketId})}}),B.a.getSocket().emit("accept friendship",{accepterId:c.userId,socketIdRequester:a.socketId,token:t})},messageOnError:P.errorAccepting[n]})}})},J=function(e){return r.a.createElement(H,e)},G=a(365),K=a(366),W=a.n(K),Y=function(e){var t=e.idioma,a=e.text,n=e.onClick;return r.a.createElement(_.a,{onClick:n},r.a.createElement(F.a,null,r.a.createElement(W.a,{fontSize:"small",color:"error"})),r.a.createElement(S.a,{primary:a.decline[t]}))},Q=function(e){var t=e.preAction,a=e.contact,n=Object(i.useRecoilValue)(s.h),c=Object(i.useSetRecoilState)(l.d),o=Object(i.useRecoilValue)(s.i),u=Object(d.a)().postRequest;return r.a.createElement(Y,{idioma:n,onClick:function(){t(),u({url:"/users/declineFriendRequest",bodyParams:{declinedUserId:a.contactId},doFnAfterSuccess:function(e,t){200===e.status&&(c({action:"delete",payload:{friendId:a.contactId}}),B.a.getSocket().emit("decline friendship",{declinerId:o.userId,declinedId:a.contactId,socketIdDeclined:a.socketId,token:t}))},messageOnError:G.errorDeclining[n]})},text:G})},Z=function(e){return r.a.createElement(Q,e)},$=a(367),X=a.n($),ee=function(e){var t=e.idioma,a=e.onClick,n=e.text;return r.a.createElement(_.a,{onClick:a},r.a.createElement(F.a,null,r.a.createElement(X.a,{fontSize:"small",color:"error"})),r.a.createElement(S.a,{primary:n.delete[t]}))},te=a(368),ae=function(e){var t=e.preAction,a=e.contact,n=Object(i.useRecoilValue)(s.h),c=Object(i.useRecoilValue)(s.i),o=Object(d.a)().postRequest,u=Object(i.useSetRecoilState)(l.d);return r.a.createElement(ee,{idioma:n,text:te,onClick:function(){t(),o({url:"/users/deleteContact",bodyParams:{deletedUserId:a.contactId},messageOnError:te.onDeleteError[n],doFnAfterSuccess:function(e,t){200===e.status&&(u({action:"delete",payload:{friendId:a.contactId}}),1===a.friendShipStatus&&B.a.getSocket().emit("delete contact",{deleterId:c.userId,socketIdDeleted:a.socketId,token:t}))}})}})},ne=function(e){return r.a.createElement(ae,e)},re=a(369),ce=a.n(re),oe=a(331),ie=function(e){var t=e.idioma,a=e.onClick;return r.a.createElement(_.a,{onClick:a},r.a.createElement(F.a,null,r.a.createElement(ce.a,{fontSize:"small",color:"error"})),r.a.createElement(S.a,{primary:oe.block[t]}))},se=function(e){var t=e.preAction,a=e.contact,n=Object(i.useRecoilValue)(s.h),c=Object(i.useRecoilValue)(s.i),o=Object(d.a)().postRequest,u=Object(i.useSetRecoilState)(l.d);return r.a.createElement(ie,{idioma:n,onClick:function(){t(),o({url:"/users/blockUser",bodyParams:{blokedUserId:a.contactId},messageOnError:oe.onBlockError[n],doFnAfterSuccess:function(e,t){200===e.status&&(u({action:"delete",payload:{friendId:a.contactId}}),B.a.getSocket().emit("block contact",{blokerId:c.userId,socketIdBloked:a.socketId,token:t}))}})}})},le=function(e){return r.a.createElement(se,e)},de=function(e){var t=e.handleClose,a=e.contact,n=function(){t()};switch(a.friendShipStatus){case 1:return r.a.createElement(r.a.Fragment,null,r.a.createElement(ne,{preAction:n,contact:a}),r.a.createElement(le,{preAction:n,contact:a}));case 2:return r.a.createElement(r.a.Fragment,null,r.a.createElement(Z,{preAction:n,contact:a}),r.a.createElement(le,{preAction:n,contact:a}));case 3:return r.a.createElement(r.a.Fragment,null,r.a.createElement(J,{preAction:n,contact:a}),r.a.createElement(Z,{preAction:n,contact:a}),r.a.createElement(le,{preAction:n,contact:a}));case 4:return r.a.createElement(r.a.Fragment,null,r.a.createElement(ne,{preAction:n,contact:a}),r.a.createElement(le,{preAction:n,contact:a}));case 5:case 6:return r.a.createElement(ne,{preAction:n,contact:a});default:return null}},ue=Object(b.a)((function(e){return{infoIcon:{marginRight:"-12px",overflow:"visible",textAlign:"center",flex:"0 0 auto",color:"rgba(0, 0, 0, 0.54)",padding:"12px",fontSize:"1.5rem",transition:"background-color 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms",borderRadius:"50%",border:0,cursor:"pointer",margin:0,display:"inline-flex",outline:0,position:"relative",alignItems:"center",userSelect:"none",verticalAlign:"middle",justifyContent:"center",textDecoration:"none"},listItemText:{paddingRight:e.spacing(10)},primaryText:{color:e.palette.text.primary},secondaryText:{color:e.palette.text.secondary},avatarMan:{color:e.palette.getContrastText(C.a[400]),backgroundColor:C.a[400]},avatarWoman:{color:e.palette.getContrastText(D.a[300]),backgroundColor:D.a[300]}}})),fe=Object(w.a)((function(e){return{badge:{backgroundColor:"#44b700",color:"#44b700",boxShadow:"0 0 0 2px white","&::after":{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",animation:"$ripple 1.2s infinite ease-in-out",border:"1px solid currentColor",content:'""'}},"@keyframes ripple":{"0%":{transform:"scale(.8)",opacity:1},"100%":{transform:"scale(2.4)",opacity:0}}}}))(k.a),me=Object(w.a)((function(e){return{badge:{backgroundColor:e.palette.grey[500],color:e.palette.grey[500],boxShadow:"0 0 0 2px white","&::after":{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",border:"1px solid currentColor",content:'""'}},"@keyframes ripple":{"0%":{transform:"scale(.8)",opacity:1},"100%":{transform:"scale(2.4)",opacity:0}}}}))(k.a),pe=function(e){return e.contact.socketId&&1===e.contact.friendShipStatus?r.a.createElement(fe,{overlap:"circle",anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"dot"},e.children):r.a.createElement(me,{overlap:"circle",anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"dot"},e.children)},be=Object(w.a)({paper:{border:"1px solid #d3d4d5"}})((function(e){return r.a.createElement(y.a,Object.assign({elevation:0,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},e))})),Ee=Object(b.a)((function(e){return{arrow:{color:A.a[500]},tooltip:{backgroundColor:A.a[500]}}})),ge=Object(b.a)((function(e){return{arrow:{color:R.a[500]},tooltip:{backgroundColor:R.a[500]}}})),he=function(e){var t=ge(),a=Ee();return r.a.createElement(x.a,Object.assign({arrow:!0,classes:"red"===e.color?t:a},e))},ve=r.a.memo((function(e){var t=e.idioma,a=e.contact,n=e.handleMenu,c=e.handleClose,o=e.anchorEl,i=e.openChat,s=a.lastMsg?a.lastMsg:"",l="es"===t?{locale:g.a}:{},d=a.datetime?Object(E.a)(new Date(a.datetime),new Date,l):"",u=ue(),f=a.avatarUrl?a.avatarUrl:null,m="M"===a.gender?"avatarMan":"avatarWoman";return r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,{button:!0,onClick:i},r.a.createElement(v.a,null,r.a.createElement(pe,{contact:a},a.unread&&a.unread>0?r.a.createElement(k.a,{color:"secondary",badgeContent:a.unread},r.a.createElement(O.a,{src:f,className:a.gender&&u[m]})):r.a.createElement(O.a,{src:f,className:a.gender&&u[m]}))),r.a.createElement(S.a,{primary:a.nickname,secondary:a.friendShipStatus>1?L[a.friendShipStatusCode][t]:"".concat(s.slice(0,55),"... ").concat(d),secondaryTypographyProps:a.friendShipStatus>3?{style:{color:"".concat(R.a[500])}}:a.friendShipStatus<4&&a.friendShipStatus>1?{style:{color:"".concat(A.a[500])}}:{},className:u.listItemText,classes:{primary:u.primaryText,secondary:u.secondaryText}}),a.friendShipStatus>1?r.a.createElement(he,{title:L["desc".concat(a.friendShipStatusCode)][t],color:a.friendShipStatus>3?"red":"geen"},r.a.createElement("div",{className:u.infoIcon},r.a.createElement(T.a,{fontSize:"small",style:{color:a.friendShipStatus>3?R.a[500]:A.a[500]}}))):null,r.a.createElement(I.a,null,r.a.createElement(j.a,{edge:"end","aria-label":"delete",onClick:n},r.a.createElement(M.a,{fontSize:"default"})),r.a.createElement(be,{id:"customized-menu",anchorEl:o,keepMounted:!0,open:Boolean(o),onClose:c},r.a.createElement(de,{handleClose:c,contact:a})))),r.a.createElement(p.a,{variant:"inset",component:"li"}))})),Oe=function(e){var t=e.contact,a=Object(n.useState)(null),o=Object(c.a)(a,2),d=o[0],u=o[1],f=Object(i.useRecoilValue)(s.h),m=Object(i.useRecoilValue)(s.i),p=Object(i.useSetRecoilState)(s.a),b=Object(i.useSetRecoilState)(l.d),E=Object(n.useCallback)((function(){u(null)}),[]);return r.a.createElement(ve,{handleMenu:function(e){u(e.currentTarget)},handleClose:E,contact:t,anchorEl:d,idioma:f,openChat:function(){p(t.contactId),b({action:"reset_cant_no_leidos",payload:{contactId:t.contactId}}),B.a.getSocket().emit("read messages",{userId:m.userId,contactId:t.contactId,notifyTo:t.socketId,token:localStorage.getItem("token")})}})},Se=function(e){return r.a.createElement(Oe,e)},Ie=Object(b.a)((function(e){return{scroll:{position:"relative",flexGrow:1,display:"flex",flexDirection:"column",overflowY:"auto",height:"calc(100% - ".concat(e.spacing(8),"px)")},offsetDown:Object(u.a)(Object(u.a)({},e.mixins.toolbar),{},{bottom:0,position:"relative"})}})),je=function(e){var t=e.idioma,a=e.text,n=e.contacts,c=Ie();return r.a.createElement("div",{className:c.scroll},r.a.createElement(f.a,null,n.length>0?n.map((function(e){return r.a.createElement(Se,{contact:e,key:e.contactId})})):r.a.createElement("div",{style:{margin:"2em"}},r.a.createElement(p.a,null),r.a.createElement(m.a,{variant:"h5",align:"justify"},a.goMakeFriends[t]),r.a.createElement(p.a,null),r.a.createElement(m.a,{variant:"subtitle1",align:"justify",style:{marginTop:"1em"}},a.beta[t]))),r.a.createElement("div",{className:c.offsetDown}),r.a.createElement("div",{className:c.offsetDown}))},ke=function(e){var t=Object(i.useSetRecoilState)(s.j),a=Object(d.a)().postRequest,u=Object(i.useRecoilState)(l.d),f=Object(c.a)(u,2),m=f[0],p=f[1],b=Object(i.useRecoilValue)(s.h),E=function(){0===m.length&&a({url:"/users/searchFirends",messageOnError:o.errorLoadingFriends[b],doFnAfterSuccess:function(e){200===e.status&&(p({action:"initialize",payload:{friends:e.data.friends}}),t(!0),e.data.friends.length>0&&a({url:"/users/getContactData",messageOnError:o.errorLoadingFriendsData[b],doFnAfterSuccess:function(e){200===e.status&&p({action:"set_message_info",payload:{dataObj:e.data.contactsData}})}}))}})};return Object(n.useEffect)((function(){E()}),[]),r.a.createElement(je,{idioma:b,contacts:m,text:o})};t.default=function(e){return r.a.createElement(ke,null)}}}]);
//# sourceMappingURL=6.db22e789.chunk.js.map